!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.streakjs=i():t.streakjs=i()}(this,function(){return e={},r.m=n=[function(t,i,n){"use strict";function e(t){return void 0!==t&&null!=t}Object.defineProperty(i,"e",{value:!0}),i.PI=3.141592653589793,i.PI_TWO=2*i.PI,i.PI_HALF=i.PI/2,i.PI_OVER_DEG180=i.PI/180,i.PI_OVER_DEG360=i.PI/360,i.DEG180_OVER_PI=180/i.PI,i.has=e,i.get=function(t,i){return e(t)?t:i}},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(45),h=n(18),o=n(0),a=n(2),l=n(6),b=n(5),c=(s=u.DisplayObject,r(f,s),Object.defineProperty(f.prototype,"centroid",{get:function(){return this.h},set:function(t){this.h=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"colorKey",{get:function(){return this.f},set:function(t){this.f=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"hitStrokeWidth",{get:function(){return this.v},set:function(t){this.v=t,this.setAttr("hitStrokeWidth",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"perfectDrawEnabled",{get:function(){return this.O},set:function(t){this.O=t,this.setAttr("perfectDrawEnabled",t)},enumerable:!0,configurable:!0}),f.prototype.getContext=function(){return this.getLayer().getContext()},f.prototype.getCanvas=function(){return this.getLayer().getCanvas()},f.prototype.getStrokeHitEnabled=function(){return 0!==this.v},f.prototype.setStrokeHitEnabled=function(t){return this.v=t?"auto":0,this},f.prototype.useBufferCanvas=function(t){return!(t&&!this.hasShadow()||!this.O||1===this.getAbsoluteOpacity()||!this.hasFill()||!this.hasStroke()||!this.getStage())},f.prototype.intersects=function(t){var i=this.getStage().bufferHitCanvas;return i.contextWrapper.clear(),this.drawHit(i),0<i.contextWrapper.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]},f.prototype.destroy=function(){return s.prototype.destroy.call(this),delete f.shapes[this.colorKey],delete this.colorKey,this},f.prototype.getSelfRect=function(){var t=this.size;return{x:this.h?Math.round(-t.width/2):0,y:this.h?Math.round(-t.height/2):0,width:t.width,height:t.height}},f.prototype.getClientRect=function(t){var i=(t=t||{}).skipTransform,n=t.relativeTo,e=this.getSelfRect(),r=!t.skipStroke&&this.hasStroke()&&this.strokeWidth||0,s=e.width+r,u=e.height+r,h=!t.skipShadow&&this.hasShadow(),o=h?this.shadowOffsetX:0,a=h?this.shadowOffsetY:0,c=s+Math.abs(o),f=u+Math.abs(a),l=h&&this.shadowBlur||0,b=c+2*l,v=f+2*l,g=0;Math.round(r/2)!==r/2&&(g=1);var d={width:b+g,height:v+g,x:-Math.round(r/2+l)+Math.min(o,0)+e.x,y:-Math.round(r/2+l)+Math.min(a,0)+e.y};return i?d:this.transformedRect(d,n)},f.prototype.drawScene=function(t,i,n,e){var r,s,u,h=this.getLayer(),o=t||h.getCanvas(),a=o.contextWrapper,c=this.caches.getCanvasCache(),f=this.j,l=this.hasShadow(),b=this.hasStroke();if(!this.isVisible()&&!n)return this;if(c)return a.save(),h.applyTransform(this,a,i),this.caches.drawCachedSceneCanvas(a),a.restore(),this;if(!f)return this;if(a.save(),u=(s=(r=this.getStage())&&r.bufferCanvas)&&s.contextWrapper,this.useBufferCanvas(n)&&!e&&u){if(u.clear(),u.save(),u.applyLineJoin(this),!n)if(h)h.applyTransform(this,u,i);else{var v=this.getAbsoluteTransform(i).getMatrix();a.transform(v[0],v[1],v[2],v[3],v[4],v[5])}f.call(this,u,this),u.restore();var g=s.pixelRatio;l&&!o.hitCanvas?(a.save(),a.applyShadow(this),a.applyOpacity(this),a.applyGlobalCompositeOperation(this),a.drawImage(s.canvasElement,0,0,s.width/g,s.height/g),a.restore()):(a.applyOpacity(this),a.applyGlobalCompositeOperation(this),a.drawImage(s.canvasElement,0,0,s.width/g,s.height/g))}else{if(a.applyLineJoin(this),!n)if(h)h.applyTransform(this,a,i);else{var d=this.getAbsoluteTransform(i).getMatrix();a.transform(d[0],d[1],d[2],d[3],d[4],d[5])}l&&b&&!o.hitCanvas?(a.save(),n||(a.applyOpacity(this),a.applyGlobalCompositeOperation(this)),a.applyShadow(this),f.call(this,a,this),a.restore(),this.hasFill()&&this.shadowForStrokeEnabled&&f.call(this,a,this)):l&&!o.hitCanvas?(a.save(),n||(a.applyOpacity(this),a.applyGlobalCompositeOperation(this)),a.applyShadow(this),f.call(this,a,this),a.restore()):(n||(a.applyOpacity(this),a.applyGlobalCompositeOperation(this)),f.call(this,a,this))}return a.restore(),this},f.prototype.drawHit=function(t,i,n){var e=this.getLayer(),r=t||e.hitCanvas,s=r&&r.contextWrapper,u=this._,h=this.caches.getCanvasCache(),o=h&&h.hit;if(this.colorKey,!this.shouldDrawHit()&&!n)return this;if(o)return s.save(),e.applyTransform(this,s,i),this.caches.drawCachedHitCanvas(s),s.restore(),this;if(!u)return this;if(s.save(),s.applyLineJoin(this),!n)if(e)e.applyTransform(this,s,i);else{var a=this.getAbsoluteTransform(i).getMatrix();s.transform(a[0],a[1],a[2],a[3],a[4],a[5])}return u.call(this,s,this),s.restore(),this},f.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var i,n,e,r,s,u=this.caches.getCanvasCache(),h=this.caches.getCachedSceneCanvas(),o=u.hit,a=o.contextWrapper,c=o.width,f=o.height;a.clear(),a.drawImage(h.canvasElement,0,0,c,f);try{for(e=(n=(i=a.getImageData(0,0,c,f)).data).length,r=b.hexToRgb(this.colorKey),s=0;s<e;s+=4)t<n[s+3]?(n[s]=r.r,n[s+1]=r.g,n[s+2]=r.b,n[s+3]=255):n[s+3]=0;a.putImageData(i,0,0)}catch(t){l.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this},f.prototype.getFillPattern=function(){return this.caches.getCache("patternImage",this.w)},f.prototype.w=function(){if(this.fillPatternImage)return a.default.getDummyContext().createPattern(this.fillPatternImage,this.fillPatternRepeat||"repeat")},f.prototype.getLinearGradient=function(){return this.caches.getCache("linearGradient",this.M)},f.prototype.M=function(){var t=this.fillLinearGradientColorStops;if(t&&0<t.length){for(var i=a.default.getDummyContext(),n=this.fillLinearGradientStartPoint,e=this.fillLinearGradientEndPoint,r=i.createLinearGradient(n.x,n.y,e.x,e.y),s=0;s<t.length;s+=2)r.addColorStop(t[s],t[s+1]);return r}},f.prototype.getRadialGradient=function(){return this.caches.getCache("radialGradient",this.C)},f.prototype.C=function(){var t=this.fillRadialGradientColorStops;if(t&&0<t.length){for(var i=a.default.getDummyContext(),n=this.fillRadialGradientStartPoint,e=this.fillRadialGradientEndPoint,r=i.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius,e.x,e.y,this.fillRadialGradientEndRadius),s=0;s<t.length;s+=2)r.addColorStop(t[s],t[s+1]);return r}},f.prototype.hasPointerCapture=function(t){return h.hasPointerCapture(t,this)},f.prototype.setPointerCapture=function(t){h.setPointerCapture(t,this)},f.prototype.releaseCapture=function(t){h.releaseCapture(t,this)},f.prototype.sceneRender=function(t){},f.prototype.hitRender=function(t){this.sceneRender(t)},f.shapes={},f);function f(t){var i=s.call(this,t)||this;t=t||{},i.nodeType="Shape",i.h=!1,i.v=o.get(t.hitStrokeWidth,"auto"),i.O=o.get(t.perfectDrawEnabled,!0);var n,e=o.get(t.sceneFunc,void 0),r=o.get(t.sceneFunc,void 0);for(i.j=e||function(t){i.sceneRender(t)},i._=r||(!r&&e?e:function(t){i.hitRender(t)});!(n=b.getRandomColor())||n in f.shapes;);return i.f=n,f.shapes[n]=i}i.Shape=c},function(t,n,o){"use strict";(function(e){Object.defineProperty(n,"e",{value:!0});var r=o(34),s=o(35),u=o(36),t=(h.prototype.getGlobal=function(){return this.k?this.k.getGlobal():null},h.prototype.setGlobal=function(t){this.k&&this.k.setGlobal(t)},h.prototype.getCanvasRef=function(){return this.k?this.k.getCanvasRef():null},h.prototype.setCanvasRef=function(t){this.k&&this.k.setCanvasRef(t)},h.prototype.createImageElement=function(){return this.k?this.k.createImageElement():null},h.prototype.createCanvasElement=function(){return this.k?this.k.createCanvasElement():null},h.prototype.createOffScreenCanvasElement=function(){return this.k?this.k.createOffScreenCanvasElement():null},h.prototype.getDevicePixelRatio=function(){return this.k?this.k.getDevicePixelRatio():null},h.prototype.now=function(){return this.k?this.k.now():null},h.prototype.requestAnimationFrame=function(t){return this.k?this.k.requestAnimationFrame(t):null},h.prototype.cancelAnimationFrame=function(t){if(this.k)return this.k.cancelAnimationFrame(t)},h.prototype.createDummyContext=function(){return this.k?this.k.createDummyContext():null},h.prototype.getDummyContext=function(){return this.k?this.k.getDummyContext():null},h.getInstance=function(){var t="undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),i="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync,n=void 0!==e&&"[object global]"==={}.toString.call(e);return h.S||(t?(h.S=new h(new r.default)).isBrowser=!0:i?(h.S=new h(new s.default)).isWx=!0:n?(h.S=new h(new u.default)).isNode=!0:h.S=new h(new r.default)),h.S},h);function h(t){this.isBrowser=!1,this.isWx=!1,this.isNode=!1,this.k=t,this.k&&(this.supportPointerEvents=this.k.supportPointerEvents,this.supportTouchEvents=this.k.supportTouchEvents,this.enableBuffer=this.k.enableBuffer)}var i=(n.Adaptive=t).getInstance();n.default=i}).call(this,o(15))},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});function e(t){return t!=t}i.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},i.isPlainObject=function(t){return!!t&&t.constructor===Object},i.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.isNumber=function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!e(t)&&isFinite(t)},i.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},i.isBoolean=function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},i.isObject=function(t){return t instanceof Object},i.isUndefined=function(t){return void 0===t},i.isNaN=e},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e={pixelRatio:void 0,inDblClickWindow:!1,dblClickWindow:400,pointerEventsEnabled:!1,listenClickTap:!1,captureTouchEventsEnabled:!1,dragDistance:3,dragButtons:[0,1],hitOnDragEnabled:!1,showWarnings:!1,ns1:["streakjs"],ns2:["shapes"]};i.default=e},function(t,n,i){"use strict";Object.defineProperty(n,"e",{value:!0});var e=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;function r(t){t=t.replace("#","");var i=parseInt(t,16);return{r:i>>16&255,g:i>>8&255,b:255&i}}function s(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=(i[0],i.slice(1)),e=Number(n[0])/360,r=Number(n[1])/100,s=Number(n[2])/100,u=void 0,h=void 0,o=void 0;if(0==r)return o=255*s,{r:Math.round(o),g:Math.round(o),b:Math.round(o),a:1};for(var a=2*s-(u=s<.5?s*(1+r):s+r-s*r),c=[0,0,0],f=0;f<3;f++)(h=e+1/3*-(f-1))<0&&h++,1<h&&h--,o=6*h<1?a+6*(u-a)*h:2*h<1?u:3*h<2?a+(u-a)*(2/3-h)*6:a,c[f]=255*o;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}}function u(t){var i=n.COLORS[t.toLowerCase()];return i?h(i):null}function h(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}}n.COLORS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},n.rgbToHex=function(t,i,n){return((1<<24)+(t<<16)+(i<<8)+n).toString(16).slice(1)},n.rgbToString=function(t){return"rgb("+t.r+", "+t.g+", "+t.b+")"},n.hexToRgb=r,n.getRandomColor=function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},n.getRGB=function(t){var i;return t in n.COLORS?r(n.COLORS[t].substring(1)):"#"===t[0]?r(t.substring(1)):"rgb("===t.substr(0,4)?(i=e.exec(t.replace(/ /g,"")),{r:parseInt(i[1],10),g:parseInt(i[2],10),b:parseInt(i[3],10)}):{r:0,g:0,b:0}},n.hslColorToRGBA=s,n.namedColorToRBA=u,n.colorToRGBA=function(t){return u(t=t||"black")||function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}}(t)||h(t)||function(t){if(0===t.indexOf("rgb(")){var i=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:i[0],g:i[1],b:i[2],a:1}}}(t)||function(t){if(0===t.indexOf("rgba(")){var i=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:i[0],g:i[1],b:i[2],a:i[3]}}}(t)||s(t)}},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(4);i.error=function(t){console.error(t)},i.warn=function(t){e.default.showWarnings&&console.warn(t)}},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(16),s=n(3),r=n(11),u=(h.prototype.getValue=function(t){var i=this.table["$"+this.toStr(t)];if(!s.isUndefined(i))return i.value},h.prototype.setValue=function(t,i){if(!s.isUndefined(t)&&!s.isUndefined(i)){var n,e="$"+this.toStr(t),r=this.table[e];return n=s.isUndefined(r)?void this.nElements++:r.value,this.table[e]={key:t,value:i},n}},h.prototype.remove=function(t){var i="$"+this.toStr(t),n=this.table[i];if(!s.isUndefined(n))return delete this.table[i],this.nElements--,n.value},h.prototype.keys=function(){var t=[];for(var i in this.table)if(r.has(this.table,i)){var n=this.table[i];t.push(n.key)}return t},h.prototype.values=function(){var t=[];for(var i in this.table)if(r.has(this.table,i)){var n=this.table[i];t.push(n.value)}return t},h.prototype.forEach=function(t){for(var i in this.table)if(r.has(this.table,i)){var n=this.table[i];if(!1===t(n.key,n.value))return}},h.prototype.containsKey=function(t){return!s.isUndefined(this.getValue(t))},h.prototype.clear=function(){this.table={},this.nElements=0},h.prototype.size=function(){return this.nElements},h.prototype.isEmpty=function(){return this.nElements<=0},h.prototype.toString=function(){var n="{";return this.forEach(function(t,i){n+="\n\t"+t+" : "+i}),n+"\n}"},h);function h(t){this.table={},this.nElements=0,this.toStr=t||e.defaultToString}i.Dictionary=u},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(23),o=n(9),h=n(10),a=n(41),c=n(29),d=n(4),f=n(0),m=n(2),l=n(11),b=n(3),O=n(7),v="absoluteOpacity",g="absoluteTransform",j="absoluteScale",_="listening",p="visible",w=["id"],y="mouseenter",M="mouseleave",x="transform",C=["xChange.__event","yChange.__event","scaleXChange.__event","scaleYChange.__event","skewXChange.__event","skewYChange.__event","rotationChange.__event","offsetXChange.__event","offsetYChange.__event","transformsEnabledChange.__event"].join(" "),k=["scaleXChange.__event","scaleYChange.__event"].join(" "),S=(s=u.NodeBase,r(E,s),Object.defineProperty(E.prototype,"zIndex",{get:function(){return this.P},set:function(t){this.P=t,this.setAttr("zIndex",t),this.A()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"preventDefault",{get:function(){return this.R},set:function(t){this.R=t,this.setAttr("preventDefault",t)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"draggable",{get:function(){return this.I},set:function(t){this.I=t,this.setAttr("draggable",t),this.G()},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dragDistance",{get:function(){return this.T},set:function(t){this.T=t,this.setAttr("dragDistance",t)},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"dragBoundFunc",{get:function(){return this.L},set:function(t){this.L=t},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"injectors",{get:function(){return this.Y},set:function(t){this.Y=t;for(var i=0,n=this.Y;i<n.length;i++)n[i].host=this;this.updatedAfterInjection=!1},enumerable:!0,configurable:!0}),E.prototype.isListening=function(){return this.caches.getCache(_,this.X)},E.prototype.isVisible=function(){return this.caches.getCache(p,this.isAbsoluteVisible)},E.prototype.isAbsoluteVisible=function(t){var i=this.visible,n=this.getParent();return"inherit"===i?!n||n===t||n.isAbsoluteVisible(t):i},E.prototype.getParent=function(){return this.parent},E.prototype.getDepth=function(){for(var t=0,i=this.parent;i;)t++,i=i.parent;return t},E.prototype.getZIndex=function(){return this.zIndex},E.prototype.setZIndex=function(t){return this.zIndex=t,this},E.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},E.prototype.getStage=function(){return this.caches.getCache("stage",this.D)},E.prototype.getTransform=function(){return this.caches.getCache(x,this.F)},E.prototype.getAbsoluteZIndex=function(){var n,e,r,s,u=this.getDepth(),h=this,o=0;return"Stage"!==h.nodeType&&function t(i){for(n=[],e=i.length,r=0;r<e;r++)s=i[r],o++,"Shape"!==s.nodeType&&(n=n.concat(s.getChildren().toArray())),s.uid===h.uid&&(r=e);0<n.length&&n[0].getDepth()<=u&&t(n)}(h.getStage().getChildren()),o},E.prototype.getAbsoluteOpacity=function(){return this.caches.getCache(v,this.B)},E.prototype.getAbsoluteTransform=function(t){return t?this.N(t):this.caches.getCache(g,this.N)},E.prototype.getAbsoluteScale=function(t){return t?this.z(t):this.caches.getCache(j,this.z)},E.prototype.getAbsolutePosition=function(t){var i=this.getAbsoluteTransform(t).getMatrix(),n=new c.Transform,e=this.offset;return n.m=i.slice(),n.translate(e.x,e.y),n.getTranslation()},E.prototype.setAbsolutePosition=function(t){var i=this.x,n=this.y,e=this.getAbsoluteTransform();return e.invert(),e.translate(t.x,t.y),this.position={x:i+e.getTranslation().x,y:n+e.getTranslation().y},this.caches.clearCache(x),this.caches.clearSelfAndDescendantCache(g),this},E.prototype.move=function(t){var i=t.x,n=t.y,e=this.x,r=this.y;return void 0!==i&&(e+=i),void 0!==n&&(r+=n),this.position={x:e,y:r},this},E.prototype.moveToTop=function(){if(!this.parent)return!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent.setChildrenIndices(),!0},E.prototype.moveUp=function(){if(!this.parent)return!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent.setChildrenIndices(),!0)},E.prototype.moveDown=function(){if(!this.parent)return!1;var t=this.index;return 0<t&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent.setChildrenIndices(),!0)},E.prototype.moveToBottom=function(){if(!this.parent)return!1;var t=this.index;return 0<t&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent.setChildrenIndices(),!0)},E.prototype.moveTo=function(t){return this.getParent()!==t&&(this.W(),t.add(this)),this},E.prototype.rotate=function(t){return this.rotation=this.rotation+t,this},E.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),h.default.dragElements.remove(this.uid),this.W(),this},E.prototype.transformedRect=function(t,i){var n,e,r,s,u=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],h=this.getAbsoluteTransform(i);return u.forEach(function(t){var i=h.point(t.x,t.y);void 0===n&&(n=r=i.x,e=s=i.y),n=Math.min(n,i.x),e=Math.min(e,i.y),r=Math.max(r,i.x),s=Math.max(s,i.y)}),{x:n,y:e,width:r-n,height:s-e}},E.prototype.on=function(t,i){if(3===arguments.length)return this.H.apply(this,arguments);var n,e,r,s,u=t.split(" "),h=u.length;for(n=0;n<h;n++)r=(e=u[n].split("."))[0],s=e[1]||"",this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:s,handler:i});return this},E.prototype.off=function(t,i){var n,e,r,s,u,h=(t||"").split(" "),o=h.length;if(!t)for(e in this.eventListeners)this.q(e);for(n=0;n<o;n++)if(s=(r=h[n].split("."))[0],u=r[1],s)this.eventListeners[s]&&this.q(s,u,i);else for(e in this.eventListeners)this.q(e,u,i);return this},E.prototype.addEventListener=function(t,i){return this.on(t,function(t){i.call(this,t.evt)}),this},E.prototype.removeEventListener=function(t){return this.off(t),this},E.prototype.dispatchEvent=function(t){var i={target:this,type:t.type,evt:t};return this.fire(t.type,i),this},E.prototype.fire=function(t,i,n){return(i=i||{}).target=i.target||this,n?this.fireAndBubble(t,i):this.V(t,i),this},E.prototype.fireAndBubble=function(t,i,n){if(i&&"Shape"===this.nodeType&&(i.target=this),t!==y&&t!==M||!(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n)){this.V(t,i);var e=(t===y||t===M)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(i&&!i.cancelBubble||!i)&&this.parent&&this.parent.isListening()&&!e&&(n&&n.parent?this.fireAndBubble.call(this.parent,t,i,n.parent):this.fireAndBubble.call(this.parent,t,i))}},E.prototype.fireAttrChange=function(t,i,n){this.V(t+"Change",{oldVal:i,newVal:n})},E.prototype.setDragPosition=function(t,i){var n=this.getStage().getPointerById(i.pointerId),e=this.L;if(n){var r={x:n.x-i.offset.x,y:n.y-i.offset.y};e&&(r=e.call(this,r,t)),this.Q&&this.Q.x===r.x&&this.Q.y===r.y||(this.setAbsolutePosition(r),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this.Q=r}},E.prototype.startDrag=function(t){h.default.dragElements.containsKey(this.uid)||this.$(t),h.default.dragElements.getValue(this.uid).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},!0)},E.prototype.stopDrag=function(t){var i=h.default.dragElements.getValue(this.uid);i&&(i.dragStatus="stopped"),h.default.endDragBefore(t),h.default.endDragAfter(t)},E.prototype.isDragging=function(){var t=h.default.dragElements.getValue(this.uid);return!!t&&"dragging"===t.dragStatus},E.prototype.getAncestors=function(){for(var t=this.getParent(),i=new Array;t;)i.push(t),t=t.getParent();return i},E.prototype.findAncestors=function(t,i,n){var e=[];i&&this.isMatch(t)&&e.push(this);for(var r=this.parent;r;){if(r===n)return e;r.isMatch(t)&&e.push(r),r=r.parent}return e},E.prototype.isAncestorOf=function(t){return!1},E.prototype.findAncestor=function(t,i,n){return this.findAncestors(t,i,n)[0]},E.prototype.isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);var i,n,e=t.replace(/ /g,"").split(","),r=e.length;for(i=0;i<r;i++)if("#"===(n=e[i]).charAt(0)){if(this.id===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1},E.prototype.clone=function(t){var i,n,e,r,s,u=l.cloneObject(this.attrs);for(var h in w)delete u[w[h]];for(i in t)u[i]=t[i];var o=new this.constructor(u);for(i in this.eventListeners)for(e=(n=this.eventListeners[i]).length,r=0;r<e;r++)(s=n[r]).name.indexOf(".__event")<0&&(o.eventListeners[i]||(o.eventListeners[i]=[]),o.eventListeners[i].push(s));return o},E.prototype.toJSON=function(){return JSON.stringify(this.toObject())},E.prototype.toObject=function(){var t,i,n,e={},r=this.getAttrs();for(t in e.attrs={},r)i=r[t],b.isObject(i)&&!b.isPlainObject(i)&&!b.isArray(i)||(n="function"==typeof this[t]&&this[t],delete r[t],(n?n.call(this):null)!==(r[t]=i)&&(e.attrs[t]=i));return e.className=this.getClassName(),this.J(e)},E.prototype.toCanvas=function(t){t=t||{};var i=this.getClientRect(),n=this.getStage(),e=void 0!==t.x?t.x:i.x,r=void 0!==t.y?t.y:i.y,s=t.pixelRatio||1,u=new o.SceneCanvas({width:t.width||i.width||(n?n.width:0),height:t.height||i.height||(n?n.height:0),pixelRatio:s}),h=u.contextWrapper;return h.save(),(e||r)&&h.translate(-1*e,-1*r),this.drawScene(u),h.restore(),u},E.prototype.toDataURL=function(t){var i=(t=t||{}).mimeType||null,n=t.quality||null,e=this.toCanvas(t).toDataURL(i,n);return t.callback&&t.callback(e),e},E.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method option argument";var i=t.callback;delete t.callback,this.U(this.toDataURL(t),function(t){i(t)})},E.prototype.getCanvas=function(){return null},E.prototype.hasChildren=function(){return!1},E.prototype.getChildren=function(){return new Array},E.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},E.prototype.shouldDrawHit=function(){var t=this.getLayer();return!t&&this.isListening()&&this.isVisible()||t&&t.hitGraphEnabled&&this.isListening()&&this.isVisible()},E.prototype.cache=function(t){this.caches.setCanvasCache(t)},E.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},E.load=function(t,i){var n;n=b.isString(t)?JSON.parse(t):t;var e=this.Z();return this.K(e,n,i)},E.K=function(t,i,n){var e,r,s,u=i.className,h=i.children;if(u){if(n&&(i.attrs.container=n),t.getValue(u)||(u="Shape"),e=new(t.getValue(u))(i.attrs),h)for(r=h.length,s=0;s<r;s++)e.add(E.K(t,h[s]));return e}},E.Z=function(){for(var t=["Stage","Layer","Shape","Group"],i=new O.Dictionary,n=d.default.ns1,e=d.default.ns2,r=0,s=n;r<s.length;r++){var u=s[r];if(void 0!==m.default.getGlobal()[u]){for(var h=m.default.getGlobal()[u],o=0,a=t;o<a.length;o++){var c=a[o];h[c]&&i.setValue(c,h[c])}for(var f=0,l=e;f<l.length;f++){var b=l[f];if(void 0!==h[b]){var v=h[b];for(var g in v)i.setValue(g,v[g])}}}}return i},E.prototype.J=function(t){var i;for(var n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(i=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||this.tt(t[n])){if(!i.configurable)return null;delete t[n]}else if(null===this.J(t[n])){if(!i.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},E.prototype.tt=function(t){return!(!t||1!=t.nodeType)},E.prototype.U=function(t,i){var n=m.default.createImageElement();n&&(n.onload=function(){i(n)},n.src=t)},E.prototype.A=function(){if(this.parent&&!(this.zIndex<0||this.P>=this.parent.children.length)){var t=this.index;this.parent.children.splice(t,1),this.parent.children.splice(this.P,0,this),this.parent.setChildrenIndices()}},E.prototype.G=function(){this.I?this.it():(this.nt(),this.getStage()&&h.default.dragElements.containsKey(this.uid)&&this.stopDrag())},E.prototype.nt=function(){this.off("mousedown.__event"),this.off("touchstart.__event")},E.prototype.B=function(){var t=this.opacity,i=this.getParent();return i&&!i.isUnderCache&&(t*=i.getAbsoluteOpacity()),t},E.prototype.F=function(){var t=new c.Transform,i=this.x,n=this.y,e=this.rotation*f.PI_OVER_DEG180,r=this.scaleX,s=this.scaleY,u=this.skewX*f.PI_OVER_DEG180,h=this.skewY*f.PI_OVER_DEG180,o=this.offsetX,a=this.offsetY;return 0===i&&0===n||t.translate(i,n),0!=e&&t.rotate(e),0==u&&0==h||t.skew(u,h),1===r&&1===s||t.scale(r,s),0===o&&0===a||t.translate(-1*o,-1*a),t},E.prototype.$=function(t){var i=t?t.pointerId:void 0,n=this.getStage(),e=this.getAbsolutePosition(),r=n.getPointerById(i)||n.changedPointerPositions[0]||e;h.default.dragElements.setValue(this.uid,{node:this,startPointerPos:r,offset:{x:r.x-e.x,y:r.y-e.y},dragStatus:"ready",pointerId:i})},E.prototype.H=function(t,e,r){var s=this;this.on(t,function(t){for(var i=t.target.findAncestors(e,!0,s),n=0;n<i.length;n++)(t=l.cloneObject(t)).currentTarget=i[n],r.call(i[n],t)})},E.prototype.q=function(t,i,n){var e,r,s,u=this.eventListeners[t];for(e=0;e<u.length;e++)if(r=u[e].name,s=u[e].handler,!("__event"===r&&"__event"!==i||i&&r!==i||n&&n!==s)){if(u.splice(e,1),0===u.length){delete this.eventListeners[t];break}e--}},E.prototype.N=function(t){var n=new c.Transform;return this.et(function(t){var i=t.transformsEnabled;"all"===i?n.multiply(t.getTransform()):"position"===i&&n.translate(t.x-t.offsetX,t.y-t.offsetY)},t),n},E.prototype.W=function(){this.caches.clearSelfAndDescendantCache("stage"),this.caches.clearSelfAndDescendantCache(g),this.caches.clearSelfAndDescendantCache(p),this.caches.clearSelfAndDescendantCache(_),this.caches.clearSelfAndDescendantCache(v);var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t.setChildrenIndices(),this.parent=null)},E.prototype.z=function(t){for(var i=this;i;)i.isUnderCache&&(t=i),i=i.getParent();var n=1,e=1;return this.et(function(t){n*=t.scaleX,e*=t.scaleY},t),{x:n,y:e}},E.prototype.X=function(){var t=this.listening,i=this.getParent();return"inherit"===t?!i||i.isListening():t},E.prototype.et=function(t,i){var n,e,r=[],s=this.getParent();if(i&&i.uid===this.uid)t(this);else{for(r.unshift(this);s&&(!i||s.uid!==i.uid);)r.unshift(s),s=s.parent;for(n=r.length,e=0;e<n;e++)t(r[e])}},E.prototype.D=function(){var t=this.getParent();return t?t.getStage():void 0},E.prototype.it=function(){this.nt(),this.on("mousedown.__event touchstart.__event",function(t){var n=this;if((void 0===t.evt.button||0<=d.default.dragButtons.indexOf(t.evt.button))&&!this.isDragging()){var e=!1;h.default.dragElements.forEach(function(t,i){n.isAncestorOf(i.node)&&(e=!0)}),e||this.$(t)}})},E.prototype.V=function(t,i){(i=i||{}).target=i.target||this;var n,e=this.eventListeners[t];if(e)for(i.currentTarget=this,i.type=t,n=0;n<e.length;n++)e[n].handler.call(this,i)},E);function E(t){var i=s.call(this,t)||this;return i.Q=null,i.parent=null,i.children=new Array,i.updatedAfterInjection=!1,i.eventListeners={},i.index=0,i.isUnderCache=!1,t=t||{},i.nodeType="Node",i.P=f.get(t.zIndex,0),i.R=f.get(t.preventDefault,!0),i.I=f.get(t.draggable,!1),i.T=f.get(t.dragDistance,d.default.dragDistance),i.setAttrs(t),i.Y=[],i.caches=new a.NodeCaches(i),i.L=f.get(t.dragBoundFunc,void 0),i.on(C,function(){i.caches.clearCache(x),i.caches.clearSelfAndDescendantCache(g)}),i.on(k,function(){i.caches.clearSelfAndDescendantCache(j)}),i.on("visibleChange.__event",function(){i.caches.clearSelfAndDescendantCache(p)}),i.on("listeningChange.__event",function(){i.caches.clearSelfAndDescendantCache(_)}),i.on("opacityChange.__event",function(){i.caches.clearSelfAndDescendantCache(v)}),i.I&&i.G(),i}i.Node=S},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(24),h=n(37),o=n(0),a=n(26),c=(s=u.Canvas,r(f,s),f);function f(t){var i=s.call(this,t)||this;t=t||{};var n,e=o.get(t.width,0),r=o.get(t.height,0);t.webgl?n=new a.default(i.canvasElement).getContext("webgl-2d"):n=i.canvasElement.getContext("2d");return n&&(i.contextWrapper=new h.SceneContextWrapper(n,e,r,i.pixelRatio)),i.setSize(e,r),i}i.SceneCanvas=c},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(2),u=n(4),r=n(7);function s(){this.rt=!1,this.st=new r.Dictionary}var h=new(Object.defineProperty(s.prototype,"dragElements",{get:function(){return this.st},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"justDragged",{get:function(){return this.rt},set:function(t){this.rt=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isDragging",{get:function(){var n=!1;return this.st.forEach(function(t,i){"dragging"===i.dragStatus&&(n=!0)}),n},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"node",{get:function(){var n;return this.st.forEach(function(t,i){n=i.node}),n},enumerable:!0,configurable:!0}),s.prototype.drag=function(u){var h=this;this.st.forEach(function(t,i){var n=i.node,e=n.getStage();e.events.setPointersPositions(u),void 0===i.pointerId&&(i.pointerId=h.ut(u));var r=e.changedPointerPositions.find(function(t){return t.id===i.pointerId});if(r){if("dragging"!==i.dragStatus){var s=n.dragDistance;if(Math.max(Math.abs(r.x-i.startPointerPos.x),Math.abs(r.y-i.startPointerPos.y))<s)return;if(n.startDrag({evt:u}),!n.isDragging())return}n.setDragPosition(u,i),n.fire("dragmove",{type:"dragmove",target:n,evt:u},!0)}})},s.prototype.endDragBefore=function(r){var s=this;this.st.forEach(function(t,i){var n=i.node.getStage();if(r&&n.events.setPointersPositions(r),n.changedPointerPositions.find(function(t){return t.id===i.pointerId})){"dragging"===i.dragStatus&&(s.rt=!0,u.default.listenClickTap=!1,i.dragStatus="stopped");var e=i.node.getLayer()||"Stage"==i.node.nodeType&&i.node;e&&e.draw()}})},s.prototype.endDragAfter=function(n){var e=this;this.st.forEach(function(t,i){"stopped"===i.dragStatus&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:n},!0),"dragging"!==i.dragStatus&&e.st.remove(t)})},s.prototype.ut=function(t){return t.touches?t.changedTouches[0].identifier:999},s);e.default.isBrowser&&(e.default.getGlobal().addEventListener("mouseup",function(t){h.endDragBefore(t),h.endDragAfter(t)},!0),e.default.getGlobal().addEventListener("touchend",function(t){h.endDragBefore(t),h.endDragAfter(t)},!0),e.default.getGlobal().addEventListener("mousemove",function(t){h.drag(t)}),e.default.getGlobal().addEventListener("touchmove",function(t){h.drag(t)})),i.default=h},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(3),r=n(28);i.has=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.cloneObject=function(t){var i={};for(var n in t)e.isPlainObject(t[n])?i[n]=this.cloneObject(t[n]):e.isArray(t[n])?i[n]=r.cloneArray(t[n]):i[n]=t[n];return i},i.assign=function(t,i){for(var n in i)t[n]=i[n];return t},i.extend=function(t,i){function n(){this.constructor=t}n.prototype=i.prototype;var e=t.prototype;for(var r in t.prototype=new n,e)e.hasOwnProperty(r)&&(t.prototype[r]=e[r]);t.ht=i.prototype,t.super=i},i.destroyObject=function(t,i){for(var n in t)i&&-1<i.indexOf(n)||delete t[n]},i.classApply=function(t,i){return i?(i=[null].concat(i),new(t.bind.apply(t,i))):new t},i.hasProp=function(t,i){return!!t&&void 0!==t[i]}},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(8),h=n(10),o=n(0),a=n(4),c=(s=u.Node,r(f,s),Object.defineProperty(f.prototype,"children",{get:function(){return this.ot},set:function(t){this.ot=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"clip",{get:function(){return{x:this.at,y:this.ct,width:this.ft,height:this.lt}},set:function(t){this.at=o.get(t.x,0),this.ct=o.get(t.y,0),this.ft=o.get(t.width,0),this.lt=o.get(t.height,0),this.setAttr("clipX",this.at),this.setAttr("clipY",this.ct),this.setAttr("clipWidth",this.ft),this.setAttr("clipHeight",this.lt)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"clipX",{get:function(){return this.at},set:function(t){this.at=t,this.setAttr("clipX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"clipY",{get:function(){return this.ct},set:function(t){this.ct=t,this.setAttr("clipY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"clipWidth",{get:function(){return this.ft},set:function(t){this.ft=t,this.setAttr("clipWidth",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"clipHeight",{get:function(){return this.lt},set:function(t){this.lt=t,this.setAttr("clipHeight",t)},enumerable:!0,configurable:!0}),f.prototype.getChildren=function(i){if(!i)return this.ot;var n=new Array;return this.ot.forEach(function(t){i(t)&&n.push(t)}),n},f.prototype.hasChildren=function(){return 0<this.getChildren().length},f.prototype.removeChildren=function(){for(var t,i=0;i<this.ot.length;i++)(t=this.ot[i]).parent=null,t.index=0,t.remove();return this.ot=new Array,this},f.prototype.add=function(t){if(1<arguments.length){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}if(t.getParent())return t.moveTo(this),this;var n=this.ot;return this.validateAdd(t),t.index=n.length,t.parent=this,n.push(t),this.fire("add",{child:t}),this},f.prototype.destroy=function(){return this.hasChildren()&&this.bt(),s.prototype.destroy.call(this),this},f.prototype.find=function(t){return this.vt(t,!1)},f.prototype.findOne=function(t){var i=this.vt(t,!0);return 0<i.length?i[0]:void 0},f.prototype.toObject=function(){var t=s.prototype.toObject.call(this);t.children=[];for(var i=this.getChildren(),n=i.length,e=0;e<n;e++){var r=i[e];t.children.push(r.toObject())}return t},f.prototype.getDescendants=function(t){for(var i=[],n=t.length,e=0;e<n;e++){var r=t[e];this.isAncestorOf(r)&&i.push(r)}return i},f.prototype.isAncestorOf=function(t){for(var i=t.getParent();i;){if(i.uid===this.uid)return!0;i=i.getParent()}return!1},f.prototype.clone=function(t){var i=s.prototype.clone.call(this,t);return this.getChildren().forEach(function(t){i.add(t.clone())}),i},f.prototype.getAllIntersections=function(i){var n=[];return this.find("Shape").forEach(function(t){t.isVisible()&&t.intersects(i)&&n.push(t)}),n},f.prototype.setChildrenIndices=function(){this.ot.forEach(function(t,i){t.index=i})},f.prototype.drawScene=function(t,i,n){var e=this.getLayer(),r=t||e&&e.canvas,s=r&&r.contextWrapper,u=this.caches.getCanvasCache(),h=u&&u.scene;return(this.isVisible()||n)&&(!n&&h?(s.save(),e.applyTransform(this,s,i),this.caches.drawCachedSceneCanvas(s),s.restore()):this.gt(r,"drawScene",i,!1,n,n)),this},f.prototype.drawHit=function(t,i,n){var e=this.getLayer(),r=t||e&&e.hitCanvas,s=r&&r.contextWrapper,u=this.caches.getCanvasCache(),h=u&&u.hit;return(this.shouldDrawHit(r)||n)&&(!n&&h?(s.save(),e.applyTransform(this,s,i),this.caches.drawCachedHitCanvas(s),s.restore()):this.gt(r,"drawHit",i,!1,n,n)),this},f.prototype.shouldDrawHit=function(t){if(t&&t.isCache)return!0;var n=this.getLayer(),e=!1;h.default.dragElements.forEach(function(t,i){"dragging"===i.dragStatus&&i.node.getLayer()===n&&(e=!0)});var i=!a.default.hitOnDragEnabled&&e;return n&&n.hitGraphEnabled&&this.isVisible()&&!i},f.prototype.getClientRect=function(n){var e,r,s,u,t=(n=n||{}).skipTransform,i=n.relativeTo,h={x:1/0,y:1/0,width:0,height:0},o=this;this.ot.forEach(function(t){if(t.visible){var i=t.getClientRect({relativeTo:o,skipShadow:n.skipShadow,skipStroke:n.skipStroke});0===i.width&&0===i.height||(u=void 0===e?(e=i.x,r=i.y,s=i.x+i.width,i.y+i.height):(e=Math.min(e,i.x),r=Math.min(r,i.y),s=Math.max(s,i.x+i.width),Math.max(u,i.y+i.height)))}});for(var a=this.find("Shape"),c=!1,f=0;f<a.length;f++)if(a[f].isAbsoluteVisible(this)){c=!0;break}return h=c?{x:e,y:r,width:s-e,height:u-r}:{x:0,y:0,width:0,height:0},t?h:this.transformedRect(h,i)},f.prototype.bt=function(){for(var t,i=0;i<this.ot.length;i++)(t=this.ot[i]).parent=null,t.index=0,t.destroy();return this.ot=new Array,this},f.prototype.dt=function(t){for(var i=0;i<this.ot.length;i++){var n=this.ot[i];if(t(n))return!0;if(n.hasChildren()&&n.dt(t))return!0}return!1},f.prototype.vt=function(n,e){var r=[];return this.dt(function(t){var i=t.isMatch(n);return i&&r.push(t),!(!i||!e)}),r},f.prototype.gt=function(i,n,e,r,s,t){var u,h,o=this.getLayer(),a=i&&i.contextWrapper,c=this.ft,f=this.lt,l=c&&f||this.clipFunc;if(l&&o){a.save();var b=this.getAbsoluteTransform(e),v=b.getMatrix();a.transform(v[0],v[1],v[2],v[3],v[4],v[5]),a.beginPath(),this.clipFunc?this.clipFunc.call(this,a,this):(u=this.at,h=this.ct,a.rect(u,h,c,f)),a.clip(),v=b.copy().invert().getMatrix(),a.transform(v[0],v[1],v[2],v[3],v[4],v[5])}var g="source-over"!==this.globalCompositeOperation&&!t;g&&o&&(a.save(),a.applyGlobalCompositeOperation(this)),this.ot.forEach(function(t){t[n](i,e,r,s)}),g&&o&&a.restore(),l&&o&&a.restore()},f);function f(t){var i=s.call(this,t)||this;return t=t||{},i.ot=new Array,o.has(t.clip)?(i.at=o.get(t.clip.clipX,0),i.ct=o.get(t.clip.clipY,0),i.ft=o.get(t.clip.clipWidth,0),i.lt=o.get(t.clip.clipHeight,0)):(i.at=o.get(t.clipX,0),i.ct=o.get(t.clipY,0),i.ft=o.get(t.clipWidth,0),i.lt=o.get(t.clipHeight,0)),i.clipFunc=o.get(t.clipFunc,void 0),i}i.Container=c},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(12),h=n(9),o=n(2),a=n(0),c=(s=u.Container,r(f,s),Object.defineProperty(f.prototype,"width",{get:function(){if(this.parent)return this.parent.width},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){if(this.parent)return this.parent.height},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"size",{get:function(){if(this.parent)return this.parent.size},set:function(t){this.mt.setSize(t.width,t.height)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"hitGraphEnabled",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"zIndex",{get:function(){return s.prototype.getZIndex.call(this)},set:function(t){s.prototype.setZIndex.call(this,t);var i=this.getStage();i&&i.content&&(i.content.removeChild(this.getCanvas().canvasElement),t<i.getChildren().length-1?i.content.insertBefore(this.getCanvas().canvasElement,i.getChildren()[t+1].getCanvas().canvasElement):i.content.appendChild(this.getCanvas().canvasElement))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"clearBeforeDraw",{get:function(){return this.Ot},set:function(t){this.Ot=t,this.setAttr("clearBeforeDraw",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"imageSmoothingEnabled",{get:function(){return this.jt},set:function(t){this.jt=t,this.setAttr("imageSmoothingEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"canvas",{get:function(){return this.mt},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"hitCanvas",{get:function(){return this._t},set:function(t){this._t=t},enumerable:!0,configurable:!0}),f.prototype.getCanvas=function(){return this.mt},f.prototype.getContext=function(){return this.getCanvas().contextWrapper},f.prototype.clear=function(t){return this.getContext().clear(t),this},f.prototype.moveToTop=function(){s.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getCanvas().canvasElement),t.content.appendChild(this.getCanvas().canvasElement)),!0},f.prototype.moveUp=function(){if(!s.prototype.moveUp.call(this))return!1;var t=this.getStage();return!(!t||!t.content||(t.content.removeChild(this.getCanvas().canvasElement),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas().canvasElement,t.getChildren()[this.index+1].getCanvas().canvasElement):t.content.appendChild(this.getCanvas().canvasElement),0))},f.prototype.moveDown=function(){if(!s.prototype.moveDown.call(this))return!1;var t=this.getStage();if(t&&t.content){var i=t.getChildren();t.content.removeChild(this.getCanvas().canvasElement),t.content.insertBefore(this.getCanvas().canvasElement,i[this.index+1].getCanvas().canvasElement)}return!0},f.prototype.moveToBottom=function(){if(!s.prototype.moveToBottom.call(this))return!1;var t=this.getStage();if(t&&t.content){var i=t.getChildren();t.content.removeChild(this.getCanvas().canvasElement),t.content.insertBefore(this.getCanvas().canvasElement,i[1].getCanvas().canvasElement)}return!0},f.prototype.getLayer=function(){return this},f.prototype.remove=function(){var t=this.getCanvas().canvasElement;return s.prototype.remove.call(this),t&&t.parentNode&&this.pt(t)&&t.parentNode.removeChild(t),this},f.prototype.getStage=function(){return this.parent},f.prototype.toCanvas=function(t){return(t=t||{}).width=t.width||this.width,t.height=t.height||this.height,t.x=void 0!==t.x?t.x:this.x,t.y=void 0!==t.y?t.y:this.y,s.prototype.toCanvas.call(this,t)},f.prototype.checkVisibility=function(){var t=this.visible;this.mt.canvasElement.style.display=t?"block":"none"},f.prototype.checkSmooth=function(){this.getContext().context.imageSmoothingEnabled=this.jt},f.prototype.checkGlobalCompositeOperation=function(){this.getContext().context.globalCompositeOperation=this.globalCompositeOperation},f.prototype.getIntersection=function(t,i){return null},f.prototype.batchDraw=function(){var t=this;return this.wt||(this.wt=!0,this.yt(function(){t.draw(),t.wt=!1})),this},f.prototype.applyTransform=function(t,i,n){var e=t.getAbsoluteTransform(n).getMatrix();i.transform(e[0],e[1],e[2],e[3],e[4],e[5])},f.prototype.createPNGStream=function(){return this.mt.canvasElement.createPNGStream()},f.prototype.pt=function(t){if(!o.default.isBrowser)return!1;for(;t=t.parentNode;)if(t==o.default.getGlobal().document)return!0;return!1},f.prototype.yt=function(t){f.animQueue.push(t),1===f.animQueue.length&&o.default.requestAnimationFrame(function(){var t=f.animQueue;f.animQueue=[],t.forEach(function(t){t()})})},f.animQueue=[],f);function f(t){var i=s.call(this,t)||this;return i.nodeType="BaseLayer",t=t||{},i.Ot=a.get(t.clearBeforeDraw,!0),i.jt=a.get(t.imageSmoothingEnabled,!0),i.wt=!1,t.canvasElement?i.mt=new h.SceneCanvas({canvasElement:t.canvasElement,offScreen:!1,webgl:t.webgl,pixelRatio:t.pixelRatio}):i.mt=new h.SceneCanvas({offScreen:!1,webgl:t.webgl,pixelRatio:t.pixelRatio}),i.on("visibleChange",i.checkVisibility),i.checkVisibility(),i.on("imageSmoothingEnabledChange",i.checkSmooth),i.checkSmooth(),i.on("globalCompositeOperationChange",i.checkGlobalCompositeOperation),i.checkGlobalCompositeOperation(),i}i.BaseLayer=c},function(t,e,i){"use strict";(function(t){function i(){this.Mt=void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},this.xt()}Object.defineProperty(e,"e",{value:!0});var n=new(i.prototype.xt=function(){var t=this.Mt.navigator&&this.Mt.navigator.userAgent||"",i=this.Mt.navigator&&this.Mt.navigator.platform.toLowerCase()||"",n=t.toLowerCase(),e=/(chrome)[ /]([\w.]+)/.exec(n)||/(webkit)[ /]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];this.name=e[1]||"",this.version=e[2]||"0",this.platform=n.match(/ip(?:ad|od|hone)/)?"ios":(n.match(/(?:webos|android)/)||i.match(/mac|win|linux/)||["other"])[0],this.isMobile=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),this.isIE=!!this.Ct(t),this.isIEMobile=!!t.match(/IEMobile/i)},i.prototype.Ct=function(t){var i=t.toLowerCase(),n=i.indexOf("msie ");if(0<n)return parseInt(i.substring(n+5,i.indexOf(".",n)),10);if(0<i.indexOf("trident/")){var e=i.indexOf("rv:");return parseInt(i.substring(e+3,i.indexOf(".",e)),10)}var r=i.indexOf("edge/");return 0<r&&parseInt(i.substring(r+5,i.indexOf(".",r)),10)},i);e.default=n}).call(this,i(15))},function(t,i){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(3);function r(t){for(var i=0;i<t.length&&" "==t.charAt(i);i++);return t.slice(i,t.length)}function s(t){for(var i=t.length-1;0<=i&&" "==t.charAt(i);i--);return t.slice(0,i+1)}i.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},i.leftTrim=r,i.rightTrim=s,i.trim=function(t){return r(s(t))},i.defaultToString=function(t){return null===t?"COLLECTION_NULL":e.isUndefined(t)?"COLLECTION_UNDEFINED":e.isString(t)?"$s"+t:"$o"+t.toString()}},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(24),h=n(42),o=n(0),a=(s=u.Canvas,r(c,s),c);function c(t){var i=s.call(this,t)||this;t=t||{};var n=o.get(t.width,0),e=o.get(t.height,0);i.hitCanvas=!0;var r=i.canvasElement.getContext("2d");return r&&(i.contextWrapper=new h.HitContextWrapper(r,n,e,i.pixelRatio)),i.setSize(n,e),i}i.HitCanvas=a},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var r=n(2),s=new(n(7).Dictionary);function u(t){return{evt:t,pointerId:t.pointerId}}function e(t,i){var n=s.getValue(t);if(n){var e=n.getStage();e&&e.content,s.remove(t),r.default.supportPointerEvents&&n.fire("lostpointercapture",u(new PointerEvent("lostpointercapture")))}}i.getCapturedShape=function(t){return s.getValue(t)},i.createEvent=u,i.hasPointerCapture=function(t,i){return s.getValue(t)===i},i.setPointerCapture=function(t,i){e(t),i.getStage()&&(s.setValue(t,i),r.default.supportPointerEvents&&i.fire("gotpointercapture",u(new PointerEvent("gotpointercapture"))))},i.releaseCapture=e},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(12),h=(s=u.Container,r(o,s),o.prototype.validateAdd=function(t){var i=t.getType();if("Group"!==i&&"Shape"!==i)throw new Error("You may only add groups and shapes to groups.")},o);function o(t){var i=s.call(this,t)||this;return i.nodeType="Group",i}i.Group=h},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var c=n(2),e=(Object.defineProperty(r.prototype,"id",{get:function(){return this.kt},enumerable:!0,configurable:!0}),r.prototype.setLayers=function(t){var i=[];return i=t?0<t.length?t:[t]:[],this.layers=i,this},r.prototype.getLayers=function(){return this.layers},r.prototype.addLayer=function(t){var i,n=this.layers,e=n.length;for(i=0;i<e;i++)if(n[i].uid===t.uid)return!1;return this.layers.push(t),!0},r.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=c.default.now(),r.addAnimation(this),this},r.prototype.stop=function(){return r.removeAnimation(this),this},r.prototype.isRunning=function(){var t,i=r.animations,n=i.length;for(t=0;t<n;t++)if(i[t].id===this.kt)return!0;return!1},r.prototype.updateFrameObject=function(t){return this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff,this},r.addAnimation=function(t){this.animations.push(t),this.handleAnimation()},r.removeAnimation=function(t){var i,n=t.id,e=this.animations,r=e.length;for(i=0;i<r;i++)if(e[i].id===n){this.animations.splice(i,1);break}},r.runFrames=function(){var t,i,n,e,r,s,u,h,o={},a=this.animations;for(e=0;e<a.length;e++)if(i=(t=a[e]).layers,n=t.func,t.updateFrameObject(c.default.now()),s=i.length,!n||!1!==n.call(t,t.frame))for(r=0;r<s;r++)void 0!==(u=i[r]).uid&&(o[u.uid]=u);for(h in o)o.hasOwnProperty(h)&&o[h].draw()},r.animationLoop=function(){var t=r;t.animations.length?(t.runFrames(),c.default.requestAnimationFrame(t.animationLoop)):t.animRunning=!1},r.handleAnimation=function(){this.animRunning||(this.animRunning=!0,c.default.requestAnimationFrame(this.animationLoop))},r.animIdCounter=0,r.animations=[],r.animRunning=!1,r);function r(t,i){this.frame={time:0,timeDiff:0,lastTime:c.default.now(),frameRate:0},this.kt=r.animIdCounter++,this.func=t,this.setLayers(i)}i.Animation=e},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var x=n(0),e=(l.getLineLength=function(t,i,n,e){return Math.sqrt((n-t)*(n-t)+(e-i)*(e-i))},l.getPointOnLine=function(t,i,n,e,r,s,u){void 0===s&&(s=i),void 0===u&&(u=n);var h=(r-n)/(e-i+1e-8),o=Math.sqrt(t*t/(1+h*h));e<i&&(o*=-1);var a,c=h*o;if(e===i)a={x:s,y:u+c};else if((u-n)/(s-i+1e-8)==h)a={x:s+o,y:u+c};else{var f,l,b=this.getLineLength(i,n,e,r);if(b<1e-8)return;var v=(s-i)*(e-i)+(u-n)*(r-n);f=i+(v/=b*b)*(e-i),l=n+v*(r-n);var g=this.getLineLength(s,u,f,l),d=Math.sqrt(t*t-g*g);o=Math.sqrt(d*d/(1+h*h)),e<i&&(o*=-1),a={x:f+o,y:l+(c=h*o)}}return a},l.getPointOnCubicBezier=function(t,i,n,e,r,s,u,h,o){function a(t){return t*t*t}function c(t){return 3*t*t*(1-t)}function f(t){return 3*t*(1-t)*(1-t)}function l(t){return(1-t)*(1-t)*(1-t)}return{x:h*a(t)+s*c(t)+e*f(t)+i*l(t),y:o*a(t)+u*c(t)+r*f(t)+n*l(t)}},l.getPointOnQuadraticBezier=function(t,i,n,e,r,s,u){function h(t){return t*t}function o(t){return 2*t*(1-t)}function a(t){return(1-t)*(1-t)}return{x:s*h(t)+e*o(t)+i*a(t),y:u*h(t)+r*o(t)+n*a(t)}},l.getPointOnEllipticalArc=function(t,i,n,e,r,s){var u=Math.cos(s),h=Math.sin(s),o=n*Math.cos(r),a=e*Math.sin(r);return{x:t+(o*u-a*h),y:i+(o*h+a*u)}},l.parsePathData=function(t){if(!t)return[];var i=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];i=i.replace(new RegExp(" ","g"),",");for(var e=0;e<n.length;e++)i=i.replace(new RegExp(n[e],"g"),"|"+n[e]);var r,s=i.split("|"),u=[],h=[],o=0,a=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(e=1;e<s.length;e++){var f=s[e],l=f.charAt(0);for(f=f.slice(1),h.length=0;r=c.exec(f);)h.push(r[0]);for(var b=[],v=0,g=h.length;v<g;v++){var d=parseFloat(h[v]);isNaN(d)?b.push(0):b.push(d)}for(;0<b.length&&!isNaN(b[0]);){var m,O,j,_,p,w,y,M,x,C,k=null,S=[],E=o,P=a;switch(l){case"l":o+=b.shift(),a+=b.shift(),k="L",S.push(o,a);break;case"L":o=b.shift(),a=b.shift(),S.push(o,a);break;case"m":var A=b.shift(),R=b.shift();if(o+=A,a+=R,k="M",2<u.length&&"z"===u[u.length-1].command)for(var I=u.length-2;0<=I;I--)if("M"===u[I].command){o=u[I].points[0]+A,a=u[I].points[1]+R;break}S.push(o,a),l="l";break;case"M":o=b.shift(),a=b.shift(),k="M",S.push(o,a),l="L";break;case"h":o+=b.shift(),k="L",S.push(o,a);break;case"H":o=b.shift(),k="L",S.push(o,a);break;case"v":a+=b.shift(),k="L",S.push(o,a);break;case"V":a=b.shift(),k="L",S.push(o,a);break;case"C":S.push(b.shift(),b.shift(),b.shift(),b.shift()),o=b.shift(),a=b.shift(),S.push(o,a);break;case"c":S.push(o+b.shift(),a+b.shift(),o+b.shift(),a+b.shift()),o+=b.shift(),a+=b.shift(),k="C",S.push(o,a);break;case"S":O=o,j=a,"C"===(m=u[u.length-1]).command&&(O=o+(o-m.points[2]),j=a+(a-m.points[3])),S.push(O,j,b.shift(),b.shift()),o=b.shift(),a=b.shift(),k="C",S.push(o,a);break;case"s":O=o,j=a,"C"===(m=u[u.length-1]).command&&(O=o+(o-m.points[2]),j=a+(a-m.points[3])),S.push(O,j,o+b.shift(),a+b.shift()),o+=b.shift(),a+=b.shift(),k="C",S.push(o,a);break;case"Q":S.push(b.shift(),b.shift()),o=b.shift(),a=b.shift(),S.push(o,a);break;case"q":S.push(o+b.shift(),a+b.shift()),o+=b.shift(),a+=b.shift(),k="Q",S.push(o,a);break;case"T":O=o,j=a,"Q"===(m=u[u.length-1]).command&&(O=o+(o-m.points[0]),j=a+(a-m.points[1])),o=b.shift(),a=b.shift(),k="Q",S.push(O,j,o,a);break;case"t":O=o,j=a,"Q"===(m=u[u.length-1]).command&&(O=o+(o-m.points[0]),j=a+(a-m.points[1])),o+=b.shift(),a+=b.shift(),k="Q",S.push(O,j,o,a);break;case"A":_=b.shift(),p=b.shift(),w=b.shift(),y=b.shift(),M=b.shift(),x=o,C=a,o=b.shift(),a=b.shift(),k="A",S=this.convertEndpointToCenterParameterization(x,C,o,a,y,M,_,p,w);break;case"a":_=b.shift(),p=b.shift(),w=b.shift(),y=b.shift(),M=b.shift(),x=o,C=a,o+=b.shift(),a+=b.shift(),k="A",S=this.convertEndpointToCenterParameterization(x,C,o,a,y,M,_,p,w)}u.push({command:k||l,points:S,start:{x:E,y:P},pathLength:this.calcLength(E,P,k||l,S)})}"z"!==l&&"Z"!==l||u.push({command:"z",points:[],start:void 0,pathLength:0})}return u},l.calcLength=function(t,i,n,e){var r,s,u,h;switch(n){case"L":return l.getLineLength(t,i,e[0],e[1]);case"C":for(s=l.getPointOnCubicBezier(r=0,t,i,e[0],e[1],e[2],e[3],e[4],e[5]),h=.01;h<=1;h+=.01)u=l.getPointOnCubicBezier(h,t,i,e[0],e[1],e[2],e[3],e[4],e[5]),r+=l.getLineLength(s.x,s.y,u.x,u.y),s=u;return r;case"Q":for(s=l.getPointOnQuadraticBezier(r=0,t,i,e[0],e[1],e[2],e[3]),h=.01;h<=1;h+=.01)u=l.getPointOnQuadraticBezier(h,t,i,e[0],e[1],e[2],e[3]),r+=l.getLineLength(s.x,s.y,u.x,u.y),s=u;return r;case"A":r=0;var o=e[4],a=e[5],c=e[4]+a,f=x.PI_OVER_DEG180;if(Math.abs(o-c)<f&&(f=Math.abs(o-c)),s=l.getPointOnEllipticalArc(e[0],e[1],e[2],e[3],o,0),a<0)for(h=o-f;c<h;h-=f)u=l.getPointOnEllipticalArc(e[0],e[1],e[2],e[3],h,0),r+=l.getLineLength(s.x,s.y,u.x,u.y),s=u;else for(h=o+f;h<c;h+=f)u=l.getPointOnEllipticalArc(e[0],e[1],e[2],e[3],h,0),r+=l.getLineLength(s.x,s.y,u.x,u.y),s=u;return u=l.getPointOnEllipticalArc(e[0],e[1],e[2],e[3],c,0),r+=l.getLineLength(s.x,s.y,u.x,u.y)}return 0},l.convertEndpointToCenterParameterization=function(t,i,n,e,r,s,u,h,o){var a=o*x.PI_OVER_DEG180,c=Math.cos(a)*(t-n)/2+Math.sin(a)*(i-e)/2,f=-1*Math.sin(a)*(t-n)/2+Math.cos(a)*(i-e)/2,l=c*c/(u*u)+f*f/(h*h);1<l&&(u*=Math.sqrt(l),h*=Math.sqrt(l));var b=Math.sqrt((u*u*(h*h)-u*u*(f*f)-h*h*(c*c))/(u*u*(f*f)+h*h*(c*c)));function v(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function g(t,i){return(t[0]*i[0]+t[1]*i[1])/(v(t)*v(i))}function d(t,i){return(t[0]*i[1]<t[1]*i[0]?-1:1)*Math.acos(g(t,i))}r===s&&(b*=-1),isNaN(b)&&(b=0);var m=b*u*f/h,O=b*-h*c/u,j=(t+n)/2+Math.cos(a)*m-Math.sin(a)*O,_=(i+e)/2+Math.sin(a)*m+Math.cos(a)*O,p=d([1,0],[(c-m)/u,(f-O)/h]),w=[(c-m)/u,(f-O)/h],y=[(-1*c-m)/u,(-1*f-O)/h],M=d(w,y);return g(w,y)<=-1&&(M=x.PI),1<=g(w,y)&&(M=0),0===s&&0<M&&(M-=2*x.PI),1===s&&M<0&&(M+=2*x.PI),[j,_,u,h,p,M,a,s]},l);function l(){}i.PathTool=e},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),o=this&&this.St||function(){for(var t=0,i=0,n=arguments.length;i<n;i++)t+=arguments[i].length;var e=Array(t),r=0;for(i=0;i<n;i++)for(var s=arguments[i],u=0,h=s.length;u<h;u++,r++)e[r]=s[u];return e};Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(0),a=(s=u.Shape,r(c,s),Object.defineProperty(c.prototype,"points",{get:function(){return this.Et},set:function(t){this.Et=t,this.setAttr("points",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"closed",{get:function(){return this.Pt},set:function(t){this.Pt=t,this.setAttr("closed",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"bezier",{get:function(){return this.At},set:function(t){this.At=t,this.setAttr("bezier",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"tension",{get:function(){return this.Rt},set:function(t){this.Rt=t,this.setAttr("tension",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"width",{get:function(){return this.getSelfRect().width},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"height",{get:function(){return this.getSelfRect().height},enumerable:!0,configurable:!0}),c.prototype.getSelfRect=function(){var t=this.Et;if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var i,n,e=(t=0!==this.Rt?o([t[0],t[1]],this.It(),[t[t.length-2],t[t.length-2]]):this.Et)[0],r=t[0],s=t[1],u=t[1],h=0;h<t.length/2;h++)i=t[2*h],n=t[2*h+1],e=Math.min(e,i),r=Math.max(r,i),s=Math.min(s,n),u=Math.max(u,n);return{x:Math.round(e),y:Math.round(s),width:Math.round(r-e),height:Math.round(u-s)}},c.prototype.sceneRender=function(t){var i,n,e,r=this.Et,s=r.length,u=this.Rt,h=this.Pt,o=this.At;if(s){if(t.beginPath().moveTo(r[0],r[1]),0!==u&&4<s){for(n=(i=this.getTensionPoints()).length,e=h?0:4,h||t.quadraticCurveTo(i[0],i[1],i[2],i[3]);e<n-2;)t.bezierCurveTo(i[e++],i[e++],i[e++],i[e++],i[e++],i[e++]);h||t.quadraticCurveTo(i[n-2],i[n-1],r[s-2],r[s-1])}else if(o)for(e=2;e<s;)t.bezierCurveTo(r[e++],r[e++],r[e++],r[e++],r[e++],r[e++]);else for(e=2;e<s;e+=2)t.lineTo(r[e],r[e+1]);h?t.closePath().fillStrokeShape(this):t.strokeShape(this)}},c.prototype.getTensionPoints=function(){return this.caches.getCache("tensionPoints",this.It)},c.prototype.It=function(){return this.Pt?this.Gt():this.Tt(this.Et,this.Rt)},c.prototype.Gt=function(){var t=this.Et,i=t.length,n=this.Rt,e=this.Lt(t[i-2],t[i-1],t[0],t[1],t[2],t[3],n),r=this.Lt(t[i-4],t[i-3],t[i-2],t[i-1],t[0],t[1],n),s=this.Tt(t,n);return[e[2],e[3]].concat(s).concat([r[0],r[1],t[i-2],t[i-1],r[2],r[3],e[0],e[1],t[0],t[1]])},c.prototype.Lt=function(t,i,n,e,r,s,u){var h=Math.sqrt(Math.pow(n-t,2)+Math.pow(e-i,2)),o=Math.sqrt(Math.pow(r-n,2)+Math.pow(s-e,2)),a=u*h/(h+o),c=u*o/(h+o);return[n-a*(r-t),e-a*(s-i),n+c*(r-t),e+c*(s-i)]},c.prototype.Tt=function(t,i){var n,e,r=t.length,s=[];for(n=2;n<r-2;n+=2)e=this.Lt(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],i),s.push(e[0]),s.push(e[1]),s.push(t[n]),s.push(t[n+1]),s.push(e[2]),s.push(e[3]);return s},c);function c(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!1,i.className="Line",i.Et=h.get(t.points,[]),i.Pt=h.get(t.closed,!1),i.At=h.get(t.bezier,!1),i.Rt=h.get(t.tension,0),i.on("pointsChange.__event tensionChange.__event closedChange.__event bezierChange.__event",function(){i.caches.clearCache("tensionPoints")}),i}i.Line=a},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(3),r=n(0),s=(Object.defineProperty(u.prototype,"uid",{get:function(){return this.Yt},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"nodeType",{get:function(){return this.Xt},set:function(t){this.Xt=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"className",{get:function(){return this.Dt},set:function(t){this.Dt=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"id",{get:function(){return this.kt},set:function(t){var i=this.kt;this.Ft(i,this),this.kt=t,this.Bt(this,t),this.setAttr("id",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"name",{get:function(){return this.Nt},set:function(t){var i,n,e=(this.Nt||"").split(/\s/g),r=(t||"").split(/\s/g);for(n=0;n<e.length;n++)i=e[n],-1===r.indexOf(i)&&i&&this.zt(i,this.uid);for(n=0;n<r.length;n++)i=r[n],-1===e.indexOf(i)&&i&&this.Wt(this,i);this.Nt=t,this.setAttr("name",name)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"x",{get:function(){return this.Ht},set:function(t){this.Ht=t,this.setAttr("x",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"y",{get:function(){return this.qt},set:function(t){this.qt=t,this.setAttr("y",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"position",{get:function(){return{x:this.x,y:this.y}},set:function(t){this.x=r.get(t.x,0),this.y=r.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return this.Vt},set:function(t){this.Vt=t,this.setAttr("width",t)},enumerable:!0,configurable:!0}),u.prototype.setWidth=function(t){this.Vt=t,this.setAttr("width",t)},Object.defineProperty(u.prototype,"height",{get:function(){return this.Qt},set:function(t){this.Qt=t,this.setAttr("height",t)},enumerable:!0,configurable:!0}),u.prototype.setHeight=function(t){this.Qt=t,this.setAttr("height",t)},Object.defineProperty(u.prototype,"size",{get:function(){return{width:this.width,height:this.height}},set:function(t){this.width=r.get(t.width,0),this.height=r.get(t.height,0)},enumerable:!0,configurable:!0}),u.prototype.getSize=function(){return this.size},u.prototype.setSize=function(t){this.size=t},Object.defineProperty(u.prototype,"rotation",{get:function(){return this.$t},set:function(t){this.$t=t,this.setAttr("rotation",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"offset",{get:function(){return{x:this.offsetX,y:this.offsetY}},set:function(t){this.offsetX=r.get(t.x,0),this.offsetY=r.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"offsetX",{get:function(){return this.Jt},set:function(t){this.Jt=t,this.setAttr("offsetX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"offsetY",{get:function(){return this.Ut},set:function(t){this.Ut=t,this.setAttr("offsetY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scale",{get:function(){return{x:this.scaleX,y:this.scaleY}},set:function(t){this.scaleX=r.get(t.x,1),this.scaleY=r.get(t.y,1)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scaleX",{get:function(){return this.Zt},set:function(t){this.Zt=t,this.setAttr("scaleX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scaleY",{get:function(){return this.Kt},set:function(t){this.Kt=t,this.setAttr("scaleY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"skew",{get:function(){return{x:this.skewX,y:this.skewY}},set:function(t){this.skewX=r.get(t.x,0),this.skewY=r.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"skewX",{get:function(){return this.ti},set:function(t){this.ti=t,this.setAttr("skewX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"skewY",{get:function(){return this.ii},set:function(t){this.ii=t,this.setAttr("skewY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"opacity",{get:function(){return this.ni},set:function(t){this.ni=t,this.setAttr("opacity",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"visible",{get:function(){return this.ei},set:function(t){this.ei=t,this.setAttr("visible",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"listening",{get:function(){return this.ri},set:function(t){this.ri=t,this.setAttr("listening",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"globalCompositeOperation",{get:function(){return this.si},set:function(t){this.si=t,this.setAttr("globalCompositeOperation",t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"transformsEnabled",{get:function(){return this.ui},set:function(t){this.ui=t,this.setAttr("transformsEnabled",t)},enumerable:!0,configurable:!0}),u.prototype.getAttrs=function(){return this.attrs||{}},u.prototype.setAttrs=function(t){var i;if(!t)return this;for(i in t)"children"!==i&&this.setAttr(i,t[i]);return this},u.prototype.getAttr=function(t){return this.attrs[t]},u.prototype.setAttr=function(t,i){var n=this.attrs[t];if(n!==i||e.isObject(i))return r.has(i)?this.attrs[t]=i:delete this.attrs[t],this.fireAttrChange(t,n,i),this},u.prototype.getClassName=function(){return this.Dt||this.Xt},u.prototype.getType=function(){return this.Xt},u.prototype.addName=function(t){if(!this.hasName(t)){var i=this.Nt,n=i?i+" "+t:t;this.name=n}return this},u.prototype.hasName=function(t){if(!t)return!1;var i=this.Nt;return!!i&&-1!==(i||"").split(/\s/g).indexOf(t)},u.prototype.removeName=function(t){var i=(this.Nt||"").split(/\s/g),n=i.indexOf(t);return-1!==n&&(i.splice(n,1),this.name=i.join(" ")),this},u.prototype.destroy=function(){this.Ft(this.kt,this);for(var t=(this.Nt||"").split(/\s/g),i=0;i<t.length;i++){var n=t[i];this.zt(n,this.uid)}return this.remove(),this},u.prototype.show=function(){return this.visible=!0,this},u.prototype.hide=function(){return this.visible=!1,this},u.prototype.Bt=function(t,i){i&&(u.ids[i]=t)},u.prototype.Ft=function(t,i){t&&u.ids[t]===i&&delete u.ids[t]},u.prototype.Wt=function(t,i){i&&(u.names[i]||(u.names[i]=[]),u.names[i].push(t))},u.prototype.zt=function(t,i){if(t){var n=u.names[t];if(n){for(var e=0;e<n.length;e++)n[e].uid===i&&n.splice(e,1);0===n.length&&delete u.names[t]}}},u.idCounter=0,u.ids={},u.names={},u);function u(t){this.attrs={},t=t||{},this.Yt=u.idCounter++,this.kt=r.get(t.id,""),this.Nt=r.get(t.name,""),r.has(t.position)?(this.Ht=r.get(t.position.x,0),this.qt=r.get(t.position.y,0)):(this.Ht=r.get(t.x,0),this.qt=r.get(t.y,0)),r.has(t.size)?(this.Vt=r.get(t.size.width,0),this.Qt=r.get(t.size.height,0)):(this.Vt=r.get(t.width,0),this.Qt=r.get(t.height,0)),this.$t=r.get(t.rotation,0),r.has(t.scale)?(this.Zt=r.get(t.scale.x,1),this.Kt=r.get(t.scale.y,1)):(this.Zt=r.get(t.scaleX,1),this.Kt=r.get(t.scaleY,1)),r.has(t.skew)?(this.ti=r.get(t.skew.x,0),this.ii=r.get(t.skew.y,0)):(this.ti=r.get(t.skewX,0),this.ii=r.get(t.skewY,0)),r.has(t.offset)?(this.Jt=r.get(t.offset.x,0),this.Ut=r.get(t.offset.y,0)):(this.Jt=r.get(t.offsetX,0),this.Ut=r.get(t.offsetY,0)),this.ni=r.get(t.opacity,1),this.ei=r.get(t.visible,"inherit"),this.ri=r.get(t.listening,"inherit"),this.si=r.get(t.globalCompositeOperation,"source-over"),this.ui=r.get(t.transformsEnabled,"all")}i.NodeBase=s},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(2),r=n(6),s=n(4),u=n(0),h=(Object.defineProperty(o.prototype,"pixelRatio",{get:function(){return this.hi},set:function(t){var i=this.hi;this.hi=t,this.setSize(this.getWidth()/i,this.getHeight()/i)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hitCanvas",{get:function(){return this._t},set:function(t){this._t=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isCache",{get:function(){return this.oi},set:function(t){this.oi=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"contextWrapper",{get:function(){return this.ai},set:function(t){this.ai=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"canvasElement",{get:function(){return this.ci},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return this.Vt},set:function(t){this.Vt=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.Qt},set:function(t){this.Qt=t},enumerable:!0,configurable:!0}),o.prototype.getWidth=function(){return this.Vt},o.prototype.getHeight=function(){return this.Qt},o.prototype.setSize=function(t,i){var n;this.ai&&(n=this.ai.globalCompositeOperation),this.fi(t),this.li(i),this.ai&&(this.ai.globalCompositeOperation=n,this.ai.setSize(t*this.pixelRatio,i*this.pixelRatio))},o.prototype.toDataURL=function(t,i){try{return this.ci.toDataURL(t,i)}catch(t){try{return this.ci.toDataURL()}catch(t){return r.error("Unable to get data URL. "+t.message),""}}},o.prototype.fi=function(t){if(this.Vt=t*this.pixelRatio,this.ai&&(this.ai.canvasWidth=t*this.pixelRatio),this.ci.width=t*this.pixelRatio,this.ci.style.width=t+"px",this.ai&&this.ai.context){var i=this.pixelRatio;this.contextWrapper.context.scale(i,i)}},o.prototype.li=function(t){if(this.Qt=t*this.pixelRatio,this.ai&&(this.ai.canvasHeight=t*this.pixelRatio),this.ci.height=t*this.pixelRatio,this.ci.style.height=t+"px",this.ai&&this.ai.context){var i=this.pixelRatio;this.contextWrapper.context.scale(i,i)}},o);function o(t){t=t||{},this.hi=t.pixelRatio||s.default.pixelRatio||e.default.getDevicePixelRatio(),this.bi=u.get(t.offScreen,!0),this.oi=!1,this._t=!1,this.Vt=0,this.Qt=0,this.bi?this.ci=e.default.createOffScreenCanvasElement():t.canvasElement?this.ci=t.canvasElement:this.ci=e.default.createCanvasElement();try{this.ci.style=this.ci.style||{}}catch(t){}this.ci.style.padding="0",this.ci.style.margin="0",this.ci.style.border="0",this.ci.style.background="transparent",this.ci.style.position="absolute",this.ci.style.top="0",this.ci.style.left="0"}i.Canvas=h},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=(Object.defineProperty(r.prototype,"context",{get:function(){return this.vi},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canvasWidth",{get:function(){return this.gi},set:function(t){this.gi=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canvasHeight",{get:function(){return this.di},set:function(t){this.di=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canvasPixelRatio",{get:function(){return this.mi},set:function(t){this.gi=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"fillStyle",{get:function(){return this.vi.fillStyle},set:function(t){this.vi.fillStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"strokeStyle",{get:function(){return this.vi.strokeStyle},set:function(t){this.vi.strokeStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shadowColor",{get:function(){return this.vi.shadowColor},set:function(t){this.vi.shadowColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shadowBlur",{get:function(){return this.vi.shadowBlur},set:function(t){this.vi.shadowBlur=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shadowOffsetX",{get:function(){return this.vi.shadowOffsetX},set:function(t){this.vi.shadowOffsetX=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"shadowOffsetY",{get:function(){return this.vi.shadowOffsetY},set:function(t){this.vi.shadowOffsetY=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineCap",{get:function(){return this.vi.lineCap},set:function(t){this.vi.lineCap=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineDashOffset",{get:function(){return this.vi.lineDashOffset},set:function(t){this.vi.lineDashOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineJoin",{get:function(){return this.vi.lineJoin},set:function(t){this.vi.lineJoin=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lineWidth",{get:function(){return this.vi.lineWidth},set:function(t){this.vi.lineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"miterLimit",{get:function(){return this.vi.miterLimit},set:function(t){this.vi.miterLimit=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"font",{get:function(){return this.vi.font},set:function(t){this.vi.font=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textAlign",{get:function(){return this.vi.textAlign},set:function(t){this.vi.textAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textBaseline",{get:function(){return this.vi.textBaseline},set:function(t){this.vi.textBaseline=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"globalAlpha",{get:function(){return this.vi.globalAlpha},set:function(t){this.vi.globalAlpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"globalCompositeOperation",{get:function(){return this.vi.globalCompositeOperation},set:function(t){this.vi.globalCompositeOperation=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"imageSmoothingEnabled",{get:function(){return this.vi.imageSmoothingEnabled},set:function(t){this.vi.imageSmoothingEnabled=t},enumerable:!0,configurable:!0}),r.prototype.arc=function(t,i,n,e,r,s){return this.vi.arc(t,i,n,e,r,s),this},r.prototype.arcTo=function(t,i,n,e,r){return this.vi.arcTo(t,i,n,e,r),this},r.prototype.beginPath=function(){return this.vi.beginPath(),this},r.prototype.bezierCurveTo=function(t,i,n,e,r,s){return this.vi.bezierCurveTo(t,i,n,e,r,s),this},r.prototype.clearRect=function(t,i,n,e){return this.vi.clearRect(t,i,n,e),this},r.prototype.clip=function(){return this.vi.clip(),this},r.prototype.closePath=function(){return this.vi.closePath(),this},r.prototype.createImageData=function(t,i){var n=arguments;if(2===n.length){var e=t,r=i;return this.vi.createImageData(e,r)}if(1===n.length){var s=t;return this.vi.createImageData(s)}},r.prototype.createLinearGradient=function(t,i,n,e){return this.vi.createLinearGradient(t,i,n,e)},r.prototype.createPattern=function(t,i){return this.vi.createPattern(t,i)},r.prototype.createRadialGradient=function(t,i,n,e,r,s){return this.vi.createRadialGradient(t,i,n,e,r,s)},r.prototype.drawImage=function(t,i,n,e,r,s,u,h,o){var a=arguments,c=this.vi;if(3===a.length){var f=i,l=n;c.drawImage(t,f,l)}else if(5===a.length){f=i,l=n;var b=e,v=r;c.drawImage(t,f,l,b,v)}else if(9===a.length){var g=i,d=n,m=e,O=r;f=s,l=u,b=h,v=o,c.drawImage(t,g,d,m,O,f,l,b,v)}return this},r.prototype.ellipse=function(t,i,n,e,r,s,u,h){return this.vi.ellipse&&this.vi.ellipse(t,i,n,e,r,s,u,h),this},r.prototype.isPointInPath=function(t,i,n){if(this.vi.isPointInPath)return this.vi.isPointInPath(t,i)},r.prototype.fill=function(){return this.vi.fill(),this},r.prototype.fillRect=function(t,i,n,e){return this.vi.fillRect(t,i,n,e),this},r.prototype.fillText=function(t,i,n,e){return this.vi.fillText(t,i,n,e),this},r.prototype.measureText=function(t){return this.vi.measureText(t)},r.prototype.getImageData=function(t,i,n,e){return this.vi.getImageData(t,i,n,e)},r.prototype.getLineDash=function(){if(this.vi.getLineDash)return this.vi.getLineDash()},r.prototype.lineTo=function(t,i){return this.vi.lineTo(t,i),this},r.prototype.moveTo=function(t,i){return this.vi.moveTo(t,i),this},r.prototype.rect=function(t,i,n,e){return this.vi.rect(t,i,n,e),this},r.prototype.putImageData=function(t,i,n,e,r,s,u){var h=arguments;return 3===h.length?this.vi.putImageData(t,i,n):7===h.length&&this.vi.putImageData(t,i,n,e,r,s,u),this},r.prototype.quadraticCurveTo=function(t,i,n,e){return this.vi.quadraticCurveTo(t,i,n,e),this},r.prototype.restore=function(){return this.vi.restore(),this},r.prototype.rotate=function(t){return this.vi.rotate(t),this},r.prototype.save=function(){return this.vi.save(),this},r.prototype.scale=function(t,i){return this.vi.scale(t,i),this},r.prototype.setLineDash=function(t){return this.vi.setLineDash?this.vi.setLineDash(t):"mozDash"in this.vi?this.vi.mozDash=t:"webkitLineDash"in this.vi&&(this.vi.webkitLineDash=t),this},r.prototype.setTransform=function(t,i,n,e,r,s){return this.vi.setTransform(t,i,n,e,r,s),this},r.prototype.stroke=function(){return this.vi.stroke(),this},r.prototype.strokeRectt=function(t,i,n,e){return this.vi.strokeRect(t,i,n,e),this},r.prototype.strokeText=function(t,i,n,e){return this.vi.strokeText(t,i,n,e),this},r.prototype.transform=function(t,i,n,e,r,s){return this.vi.transform(t,i,n,e,r,s),this},r.prototype.translate=function(t,i){return this.vi.translate(t,i),this},r.prototype.fillShape=function(t){t.fillEnabled&&this.fillShapeImpl(t)},r.prototype.strokeShape=function(t){t.strokeEnabled&&this.strokeShapeImpl(t)},r.prototype.fillStrokeShape=function(t){t.fillEnabled&&this.fillShapeImpl(t),t.strokeEnabled&&this.strokeShapeImpl(t)},r.prototype.clear=function(t){t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,this.canvasWidth/this.canvasPixelRatio,this.canvasHeight/this.canvasPixelRatio)},r.prototype.reset=function(){var t=this.canvasPixelRatio;this.setTransform(1*t,0,0,1*t,0,0)},r.prototype.applyLineCap=function(t){var i=t.lineCap;i&&(this.lineCap=i)},r.prototype.applyLineJoin=function(t){var i=t.lineJoin;i&&(this.lineJoin=i)},r.prototype.applyOpacity=function(t){var i=t.getAbsoluteOpacity();1!==i&&(this.globalAlpha=i)},r.prototype.applyGlobalCompositeOperation=function(t){var i=t.globalCompositeOperation;"source-over"!==i&&(this.globalCompositeOperation=i)},r.prototype.setSize=function(t,i){this.vi.setSize&&this.vi.setSize(t,i)},r);function r(t,i,n,e){this.vi=t,this.gi=i,this.di=n,this.mi=e}i.ContextWrapper=e},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(38),r=(s.prototype.getContext=function(t){if("webgl-2d"!==t)return this.mt.getContext(t);var i=this.mt.getContext("webgl")||this.mt.getContext("experimental-webgl"),n=new e.default(i);return i.viewport(0,0,this.mt.width,this.mt.height),i.clearColor(1,1,1,1),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),n},s);function s(t){this.mt=t}i.default=r},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});i.default={identity:[1,0,0,0,1,0,0,0,1],multiply:function(t,i){var n=t[0],e=t[1],r=t[2],s=t[3],u=t[4],h=t[5],o=t[6],a=t[7],c=t[8],f=i[0],l=i[1],b=i[2],v=i[3],g=i[4],d=i[5],m=i[6],O=i[7],j=i[8];i[0]=f*n+v*e+m*r,i[1]=l*n+g*e+O*r,i[2]=b*n+d*e+j*r,i[3]=f*s+v*u+m*h,i[4]=l*s+g*u+O*h,i[5]=b*s+d*u+j*h,i[6]=f*o+v*a+m*c,i[7]=l*o+g*a+O*c,i[8]=b*o+d*a+j*c},vec2_multiply:function(t,i){var n=[];return n[0]=i[0]*t[0]+i[3]*t[1]+i[6],n[1]=i[1]*t[0]+i[4]*t[1]+i[7],n},transpose:function(t){return[t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]]}}},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var s=n(3);i.simplifyArray=function(t){var i,n,e=[],r=t.length;for(i=0;i<r;i++)n=t[i],s.isNumber(n)?n=Math.round(1e3*n)/1e3:s.isString(n)||(n=n.toString()),e.push(n);return e},i.cloneArray=function(t){return t.slice(0)},i.arrayToString=function(t){return"["+t.toString()+"]"},i.destroyArray=function(t){t&&(t.length=0)}},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=(r.prototype.copy=function(){return new r(this.m)},r.prototype.point=function(t,i){var n=this.m;return{x:n[0]*t+n[2]*i+n[4],y:n[1]*t+n[3]*i+n[5]}},r.prototype.translate=function(t,i){return this.m[4]+=this.m[0]*t+this.m[2]*i,this.m[5]+=this.m[1]*t+this.m[3]*i,this},r.prototype.scale=function(t,i){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=i,this.m[3]*=i,this},r.prototype.rotate=function(t){var i=Math.cos(t),n=Math.sin(t),e=this.m[0]*i+this.m[2]*n,r=this.m[1]*i+this.m[3]*n,s=this.m[0]*-n+this.m[2]*i,u=this.m[1]*-n+this.m[3]*i;return this.m[0]=e,this.m[1]=r,this.m[2]=s,this.m[3]=u,this},r.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},r.prototype.skew=function(t,i){var n=this.m[0]+this.m[2]*i,e=this.m[1]+this.m[3]*i,r=this.m[2]+this.m[0]*t,s=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=e,this.m[2]=r,this.m[3]=s,this},r.prototype.multiply=function(t){var i=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],e=this.m[0]*t.m[2]+this.m[2]*t.m[3],r=this.m[1]*t.m[2]+this.m[3]*t.m[3],s=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],u=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=i,this.m[1]=n,this.m[2]=e,this.m[3]=r,this.m[4]=s,this.m[5]=u,this},r.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),i=this.m[3]*t,n=-this.m[1]*t,e=-this.m[2]*t,r=this.m[0]*t,s=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),u=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=i,this.m[1]=n,this.m[2]=e,this.m[3]=r,this.m[4]=s,this.m[5]=u,this},r.prototype.getMatrix=function(){return this.m},r.prototype.setAbsolutePosition=function(t,i){var n=this.m[0],e=this.m[1],r=this.m[2],s=this.m[3],u=this.m[4],h=(n*(i-this.m[5])-e*(t-u))/(n*s-e*r),o=(t-u-r*h)/n;return this.translate(o,h)},r);function r(t){void 0===t&&(t=[1,0,0,1,0,0]),this.m=t&&t.slice()||[1,0,0,1,0,0]}i.Transform=e},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});function s(t){return void 0===t&&(t={}),t.clipFunc||t.clipWidth||t.clipHeight,t}var u,h=n(12),o=n(9),a=n(17),c=n(13),f=n(43),l=n(18),b=n(2),v=(u=h.Container,r(g,u),Object.defineProperty(g.prototype,"container",{get:function(){return this.Oi},set:function(t){this.ji(t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"content",{get:function(){return this._i},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"events",{get:function(){return this.pi},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"bufferCanvas",{get:function(){return this.wi},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"bufferHitCanvas",{get:function(){return this.yi},enumerable:!0,configurable:!0}),g.prototype.getStage=function(){return this},g.prototype.getParent=function(){return null},g.prototype.getLayer=function(){return null},g.prototype.getLayers=function(){return this.getChildren()},g.prototype.validateAdd=function(t){if(!(t instanceof c.BaseLayer))throw new Error("You may only add layers to the stage.")},g.prototype.shouldDrawHit=function(){return!0},g.prototype.add=function(t){return this.Mi&&1<=this.children.length||(u.prototype.add.call(this,t),t.size={width:this.width,height:this.height},t.draw(),b.default.isBrowser&&this._i.appendChild(t.canvas.canvasElement)),this},g.prototype.clear=function(){var t,i=this.children,n=i.length;for(t=0;t<n;t++)i[t].clear();return this},g.prototype.clone=function(t){return t=t||{},b.default.isBrowser&&(t.container=b.default.getGlobal().document.createElement("div")),u.prototype.clone.call(this,t)},g.prototype.destroy=function(){u.prototype.destroy.call(this);var t=this._i;t&&this.pt(t)&&this.Oi&&this.Oi.removeChild(t);var i=g.stages.indexOf(this);return-1<i&&g.stages.splice(i,1),this},g.prototype.getIntersection=function(t,i){if(!t)return null;var n,e,r=this.children;for(n=r.length-1;0<=n;n--)if(e=r[n].getIntersection(t,i))return e;return null},g.prototype.cache=function(){return this},g.prototype.batchDraw=function(){return this.children.forEach(function(t){t.batchDraw()}),this},g.prototype.getPointerById=function(i){return this.pointerPositions.find(function(t){return t.id===i})},g.prototype.getPointerPosition=function(){var t=this.pointerPositions[0]||this.changedPointerPositions[0];return t?{x:t.x,y:t.y}:null},g.prototype.getPointersPositions=function(){return this.pointerPositions},g.prototype.getContentPosition=function(){if(this._i){var t=this._i.getBoundingClientRect?this._i.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}}return{top:0,left:0}},g.prototype.toCanvas=function(n){var e=(n=n||{}).x||0,r=n.y||0,t=new o.SceneCanvas({width:n.width||this.width,height:n.height||this.height,pixelRatio:n.pixelRatio||1}),s=t.contextWrapper.context,i=this.children;return(e||r)&&s.translate(-1*e,-1*r),i.forEach(function(t){if(t.isVisible()){var i=t.toCanvas(n);s.drawImage(i.canvasElement,e,r,i.width/i.pixelRatio,i.height/i.pixelRatio)}}),t},g.prototype.hasPointerCapture=function(t){return l.hasPointerCapture(t,this)},g.prototype.setPointerCapture=function(t){l.setPointerCapture(t,this)},g.prototype.releaseCapture=function(t){l.releaseCapture(t,this)},g.prototype.xi=function(){this.wi=new o.SceneCanvas,this.yi=new a.HitCanvas({pixelRatio:1})},g.prototype.ji=function(t){if("string"==typeof t)if("."===t.charAt(0)){var i=t.slice(1);this.Oi=b.default.getGlobal().document.getElementsByClassName(i)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),this.Oi=b.default.getGlobal().document.getElementById(n)}else this.Oi=t;if(!this.Oi)throw"Can not find container in document with id "+n;this.setAttr("container",this.Oi),this._i&&(this._i.parentElement&&this._i.parentElement.removeChild(this._i),this.Oi.appendChild(this._i))},g.prototype.Ci=function(){if(!this.Oi)throw"Stage has no container. A container is required.";this.Oi.innerHTML="",this._i=b.default.getGlobal().document.createElement("div"),this._i.style.position="relative",this._i.style.userSelect="none",this._i.className="stage-content",this._i.setAttribute("role","presentation"),this.Oi.appendChild(this._i)},g.prototype.ki=function(){var t,i,n=this.width,e=this.height,r=this.getChildren(),s=r.length;for(this._i&&(this._i.style.width=n+"px",this._i.style.height=e+"px"),this.bufferCanvas&&this.bufferCanvas.setSize(this.width,this.height),this.bufferHitCanvas&&this.bufferHitCanvas.setSize(this.width,this.height),t=0;t<s;t++)(i=r[t]).size={width:n,heigt:e},i.draw()},g.prototype.pt=function(t){if(!b.default.isBrowser)return!1;for(;t=t.parentNode;)if(t==b.default.getGlobal().document)return!0;return!1},g.prototype.Si=function(){if(this._i){var t=this.visible?"":"none";this._i.style.display=t}},g.stages=[],g);function g(t){var i=u.call(this,s(t))||this;return i.changedPointerPositions=[],i.pointerPositions=[],t=t||{},i.nodeType="Stage",i.Mi=!1,b.default.isWx&&(i.Mi=!0),b.default.enableBuffer&&i.xi(),b.default.isBrowser&&t.container&&(i.ji(t.container),i.Ci()),i.on("widthChange.__event heightChange.__event",i.ki),i.ki(),i.on("visibleChange.__event",i.Si),i.Si(),i.on("clipWidthChange.__event clipHeightChange.__event clipFuncChange.__event",function(){s(i.getAttrs())}),i.pi=new f.StageEvents(i),b.default.isBrowser&&i.pi.bindContentEvents(),g.stages.push(i),i}i.Stage=v},function(t,r,i){"use strict";Object.defineProperty(r,"e",{value:!0}),r.Easings={BackEaseIn:function(t,i,n,e){return n*(t/=e)*t*(2.70158*t-1.70158)+i},BackEaseOut:function(t,i,n,e){return n*((t=t/e-1)*t*(2.70158*t+1.70158)+1)+i},BackEaseInOut:function(t,i,n,e){var r=1.70158;return(t/=e/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+i:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+i},ElasticEaseIn:function(t,i,n,e,r,s){var u=0;return 0===t?i:1==(t/=e)?i+n:(s=s||.3*e,u=!r||r<Math.abs(n)?(r=n,s/4):s/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*e-u)*(2*Math.PI)/s)+i)},ElasticEaseOut:function(t,i,n,e,r,s){var u=0;return 0===t?i:1==(t/=e)?i+n:(s=s||.3*e,u=!r||r<Math.abs(n)?(r=n,s/4):s/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*e-u)*(2*Math.PI)/s)+n+i)},ElasticEaseInOut:function(t,i,n,e,r,s){var u=0;return 0===t?i:2==(t/=e/2)?i+n:(s=s||e*(.3*1.5),u=!r||r<Math.abs(n)?(r=n,s/4):s/(2*Math.PI)*Math.asin(n/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*e-u)*(2*Math.PI)/s)*-.5+i:r*Math.pow(2,-10*(t-=1))*Math.sin((t*e-u)*(2*Math.PI)/s)*.5+n+i)},BounceEaseOut:function(t,i,n,e){return(t/=e)<1/2.75?n*(7.5625*t*t)+i:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},BounceEaseIn:function(t,i,n,e){return n-r.Easings.BounceEaseOut(e-t,0,n,e)+i},BounceEaseInOut:function(t,i,n,e){return t<e/2?.5*r.Easings.BounceEaseIn(2*t,0,n,e)+i:.5*r.Easings.BounceEaseOut(2*t-e,0,n,e)+.5*n+i},EaseIn:function(t,i,n,e){return n*(t/=e)*t+i},EaseOut:function(t,i,n,e){return-n*(t/=e)*(t-2)+i},EaseInOut:function(t,i,n,e){return(t/=e/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},StrongEaseIn:function(t,i,n,e){return n*(t/=e)*t*t*t*t+i},StrongEaseOut:function(t,i,n,e){return n*((t=t/e-1)*t*t*t*t+1)+i},StrongEaseInOut:function(t,i,n,e){return(t/=e/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},Linear:function(t,i,n,e){return n*t/e+i}}},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(2),o=n(3),a=n(14),P=n(16),c=n(0),A="auto",S="justify",f=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],l=f.length,b=(s=u.Shape,r(v,s),Object.defineProperty(v.prototype,"width",{get:function(){return this.getAttrs().width===A||void 0===this.getAttrs().width?this.getTextWidth()+2*this.Ei:this.getAttrs().width},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"height",{get:function(){return this.getAttrs().height===A||void 0===this.getAttrs().height?this.Pi*this.Ai.length*this.Ri+2*this.Ei:this.getAttrs().height},enumerable:!0,configurable:!0}),v.prototype.getTextWidth=function(){return this.Ii},Object.defineProperty(v.prototype,"fontFamily",{get:function(){return this.Gi},set:function(t){this.Gi=t,this.setAttr("fontFamily",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"fontSize",{get:function(){return this.Pi},set:function(t){this.Pi=t,this.setAttr("fontSize",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"fontStyle",{get:function(){return this.Ti},set:function(t){this.Ti=t,this.setAttr("fontStyle",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"fontVariant",{get:function(){return this.Li},set:function(t){this.Ti=t,this.setAttr("fontVariant",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"align",{get:function(){return this.Yi},set:function(t){this.Ti=t,this.setAttr("align",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"letterSpacing",{get:function(){return this.Xi},set:function(t){this.Xi=t,this.setAttr("letterSpacing",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"verticalAlign",{get:function(){return this.Di},set:function(t){this.Di=t,this.setAttr("verticalAlign",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"padding",{get:function(){return this.Ei},set:function(t){this.Ei=t,this.setAttr("padding",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"lineHeight",{get:function(){return this.Ri},set:function(t){this.Ri=t,this.setAttr("lineHeight",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"textDecoration",{get:function(){return this.Fi},set:function(t){this.Fi=t,this.setAttr("textDecoration",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"text",{get:function(){return this.Bi},set:function(t){var i=o.isString(t)?t:(t||"").toString();this.Bi=i,this.setAttr("text",i)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"wrap",{get:function(){return this.Ni},set:function(t){this.Ni=t,this.setAttr("wrap",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"ellipsis",{get:function(){return this.zi},set:function(t){this.zi=t,this.setAttr("ellipsis",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"strokeScaleEnabled",{get:function(){return!0},enumerable:!0,configurable:!0}),v.prototype.sceneRender=function(t){var i,n=this.Ei,e=this.Pi,r=this.Ri*e,s=this.Ai,u=s.length,h=this.Di,o=0,a=this.Yi,c=this.width,f=this.Xi,l=this.fill,b=this.Fi,v=-1!==b.indexOf("underline"),g=-1!==b.indexOf("line-through"),d=0,m=(d=r/2,0),O=0;for(t.font=this.Wi(),t.textBaseline="middle",t.textAlign="left","middle"===h?o=(this.height-u*r-2*n)/2:"bottom"===h&&(o=this.height-u*r-2*n),t.translate(n,o+n),i=0;i<u;i++){O=m=0;var j,_,p,w=s[i],y=w.text,M=w.width,x=i!==u-1;if(t.save(),"right"===a?m+=c-M-2*n:"center"===a&&(m+=(c-M-2*n)/2),v&&(t.save().beginPath(),t.moveTo(m,d+O+Math.round(e/2)),_=0==(j=y.split(" ").length-1),p=a===S&&x&&!_?c-2*n:M,t.lineTo(m+Math.round(p),d+O+Math.round(e/2)),t.lineWidth=e/15,t.strokeStyle=l,t.stroke().restore()),g&&(t.save().beginPath().moveTo(m,d+O),_=0==(j=y.split(" ").length-1),p=a===S&&x&&!_?c-2*n:M,t.lineTo(m+Math.round(p),d+O),t.lineWidth=e/15,t.strokeStyle=l,t.stroke().restore()),0!==f||a===S){j=y.split(" ").length-1;for(var C=0;C<y.length;C++){var k=y[C];" "===k&&i!==u-1&&a===S&&(m+=Math.floor((c-2*n-M)/j)),this.Hi=m,this.qi=d+O,this.Vi=k,t.fillStrokeShape(this),m+=Math.round(this.Qi(k).width)+f}}else this.Hi=m,this.qi=d+O,this.Vi=y,t.fillStrokeShape(this);t.restore(),1<u&&(d+=r)}},v.prototype.hitRender=function(t){var i=this.width,n=this.height;t.beginPath().rect(0,0,i,n).closePath().fillStrokeShape(this)},v.prototype.Qi=function(t){var i,n=h.default.getDummyContext(),e=this.Pi;return n.save(),n.font=this.Wi(),i=n.measureText(t),n.restore(),{width:i.width,height:e}},v.prototype.Wi=function(){return a.default.isIE?this.Ti+" "+this.Pi+"px "+this.Gi:this.Ti+" "+this.Li+" "+this.Pi+"px "+this.Gi},v.prototype.$i=function(t){this.Yi===S&&(t=t.trim());var i=this.Ji(t);return this.Ai.push({text:t,width:i})},v.prototype.Ji=function(t){var i=this.Xi,n=t.length,e=h.default.getDummyContext();e.save(),e.font=this.Wi();var r=e.measureText(t);return e.restore(),r.width+(n?i*(n-1):0)},v.prototype.Ui=function(){var t=this.Bi.split("\n"),i=+this.Pi,n=0,e=this.Ri*i,r=this.getAttrs().width,s=this.getAttrs().height,u=r!==A&&void 0!==r,h=s!==A&&void 0!==s,o=this.Ei,a=r-2*o,c=s-2*o,f=0,l=this.Ni,b="none"!==l,v="char"!==l&&b,g=this.zi&&!b;this.Ai=[];for(var d=g?this.Ji("…"):0,m=0,O=t.length;m<O;++m){var j=t[m],_=this.Ji(j);if(u&&a<_)for(;0<j.length;){for(var p=0,w=j.length,y="",M=0;p<w;){var x=p+w>>>1,C=j.slice(0,1+x),k=this.Ji(C)+d;k<=a?(p=1+x,y=C+(g?"…":""),M=k):w=x}if(!y)break;if(v){var S,E=j[y.length];0<(S=(" "===E||"-"===E)&&M<=a?y.length:Math.max(y.lastIndexOf(" "),y.lastIndexOf("-"))+1)&&(p=S,y=y.slice(0,p),M=this.Ji(y))}if(y=P.rightTrim(y),this.$i(y),n=Math.max(n,M),f+=e,!b||h&&c<f+e)break;if(j=j.slice(p),0<(j=P.leftTrim(j)).length&&(_=this.Ji(j))<=a){this.$i(j),f+=e,n=Math.max(n,_);break}}else this.$i(j),f+=e,n=Math.max(n,_);if(h&&c<f+e)break}this.Ii=n},v);function v(t){var i=s.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(t))||this;i.Hi=0,i.qi=0,t=t||{},i.centroid=!1,i.className="Text",i.Gi=c.get(t.fontFamily,"Arial"),i.Pi=c.get(t.fontSize,12),i.Ti=c.get(t.fontStyle,"normal"),i.Li=c.get(t.fontVariant,"normal"),i.Yi=c.get(t.align,"left"),i.Xi=c.get(t.letterSpacing,0),i.Di=c.get(t.verticalAlign,"top"),i.Ei=c.get(t.padding,0),i.Ri=c.get(t.lineHeight,1),i.Fi=c.get(t.textDecoration,""),i.Bi=c.get(t.text,""),i.Ni=c.get(t.wrap,"word"),i.zi=c.get(t.ellipsis,!1),i.fillFunc=function(t){t.fillText(i.Vi,i.Hi,i.qi)},i.strokeFunc=function(t){t.strokeText(i.Vi,i.Hi,i.qi)};for(var n=0;n<l;n++)i.on(f[n]+"Change.__event",i.Ui);return i.Ui(),i}i.Text=b},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(23);i.NodeBase=e.NodeBase;var r=n(8);i.Node=r.Node;var s=n(12);i.Container=s.Container;var u=n(30);i.Stage=u.Stage;var h=n(13);i.BaseLayer=h.BaseLayer;var o=n(44);i.Layer=o.Layer;var a=n(46);i.FastLayer=a.FastLayer;var c=n(19);i.Group=c.Group;var f=n(1);i.Shape=f.Shape;var l=n(29);i.Transform=l.Transform;var b=n(10);i.DD=b.default;var v=n(47);i.loader=v.default;var g=n(20);i.Animation=g.Animation;var d=n(48);i.Tween=d.Tween;var m=n(31);i.Easings=m.Easings;var O=n(4);i.config=O.default;var j=n(6);i.log=j;var _=n(0);i.values=_;var p=n(2);i.adaptive=p.default;var w=n(50);i.util=w;var y=n(51);i.shapes=y;var M=n(26);i.WebGL2D=M.default;i.extension={};i.version="0.2.0"},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=(r.prototype.getGlobal=function(){return this.Mt},r.prototype.setGlobal=function(t){this.Mt=t},r.prototype.getCanvasRef=function(){return this.Zi},r.prototype.setCanvasRef=function(t){this.Zi=t},r.prototype.createImageElement=function(){return new this.Mt.Image},r.prototype.createImageData=function(){},r.prototype.createCanvasElement=function(){return this.Mt.document.createElement("canvas")},r.prototype.createOffScreenCanvasElement=function(){return this.Mt.document.createElement("canvas")},r.prototype.getDevicePixelRatio=function(){var t=this.createCanvasElement().getContext("2d");return(this.Mt.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},r.prototype.now=function(){return this.Mt.performance&&this.Mt.performance.now?this.Mt.performance.now():(new Date).getTime()},r.prototype.requestAnimationFrame=function(t){var i;if(this.Mt.requestAnimationFrame)i=this.Mt.requestAnimationFrame;else for(var n=["ms","moz","webkit","o"],e=0;e<n.length&&!i;++e)i=this.Mt[n[e]+"RequestAnimationFrame"];if(i)return i(t);var r=0,s=(new Date).getTime(),u=Math.max(0,16-(s-r)),h=this.Mt.setTimeout(function(){t(s+u)},u);return r=s+u,h},r.prototype.cancelAnimationFrame=function(t){var i;if(this.Mt.cancelAnimationFrame)i=this.Mt.cancelAnimationFrame;else for(var n=["ms","moz","webkit","o"],e=0;e<n.length&&!i;++e)i=this.Mt[n[e]+"CancelAnimationFrame"]||this.Mt[n[e]+"CancelRequestAnimationFrame"];i?i(t):clearTimeout(t)},r.prototype.createDummyContext=function(){return this.createOffScreenCanvasElement().getContext("2d")},r.prototype.getDummyContext=function(){return this.Ki||(this.Ki=this.createOffScreenCanvasElement().getContext("2d")),this.Ki},r);function r(){this.Mt=window,this.Mt&&(this.supportPointerEvents=void 0!==this.Mt.PointerEvent,this.supportTouchEvents=void 0!==this.Mt.TouchEvent),this.enableBuffer=!0}i.default=e},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=(r.prototype.getGlobal=function(){return this.Mt},r.prototype.setGlobal=function(t){this.Mt=t},r.prototype.getCanvasRef=function(){return this.Zi},r.prototype.setCanvasRef=function(t){this.Zi=t},r.prototype.createImageElement=function(){return this.Zi?this.Zi.createImage():null},r.prototype.createImageData=function(){return this.Zi?this.Zi.createImageData():null},r.prototype.createCanvasElement=function(){return null},r.prototype.createOffScreenCanvasElement=function(){return null},r.prototype.getDevicePixelRatio=function(){return 1},r.prototype.now=function(){return(new Date).getTime()},r.prototype.requestAnimationFrame=function(t){var i=0,n=(new Date).getTime(),e=Math.max(0,16-(n-i)),r=setTimeout(function(){t(n+e)},e);return i=n+e,r},r.prototype.cancelAnimationFrame=function(t){clearTimeout(t)},r.prototype.createDummyContext=function(){},r.prototype.getDummyContext=function(){return this.Ki?this.Ki:this.Zi?(this.Ki=this.Zi.getContext("2d"),this.Ki):null},r);function r(){this.Mt=wx,this.supportPointerEvents=!0,this.supportTouchEvents=!0,this.enableBuffer=!1}i.default=e},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"e",{value:!0});var i=(n.prototype.getGlobal=function(){return this.Mt},n.prototype.setGlobal=function(t){this.Mt=t},n.prototype.getCanvasRef=function(){return this.Zi},n.prototype.setCanvasRef=function(t){this.Zi=t},n.prototype.createImageElement=function(){var t=new this.Mt.canvas.Image;return t.style={},t},n.prototype.createImageData=function(){},n.prototype.createCanvasElement=function(){var t=new this.Mt.canvas.Canvas;return t.style={},t},n.prototype.createOffScreenCanvasElement=function(){var t=new this.Mt.canvas.Canvas;return t.style={},t},n.prototype.getDevicePixelRatio=function(){return 1},n.prototype.now=function(){return(new Date).getTime()},n.prototype.requestAnimationFrame=function(t){var i=0,n=(new Date).getTime(),e=Math.max(0,16-(n-i)),r=setTimeout(function(){t(n+e)},e);return i=n+e,r},n.prototype.cancelAnimationFrame=function(t){clearTimeout(t)},n.prototype.createDummyContext=function(){return this.createOffScreenCanvasElement().getContext("2d")},n.prototype.getDummyContext=function(){return this.Ki||(this.Ki=this.createOffScreenCanvasElement().getContext("2d")),this.Ki},n);function n(){this.Mt=t,this.supportPointerEvents=!1,this.supportTouchEvents=!1,this.enableBuffer=!0}e.default=i}).call(this,i(15))},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(25),o=n(0),h=(s=u.ContextWrapper,r(a,s),a.prototype.fillShapeImpl=function(t){var i=t.fill,n=t.fillPriority;if(i&&"color"===n)this.tn(t);else{var e=t.fillPatternImage;if(e&&"pattern"===n)this.in(t);else{var r=t.fillLinearGradientColorStops&&0<t.fillLinearGradientColorStops.length;if(r&&"linear-gradient"===n)this.nn(t);else{var s=t.fillRadialGradientColorStops&&0<t.fillRadialGradientColorStops.length;s&&"radial-gradient"===n?this.en(t):i?this.tn(t):e?this.in(t):r?this.nn(t):s&&this.en(t)}}}},a.prototype.strokeShapeImpl=function(t){var i=t.dash,n=t.strokeScaleEnabled;if(t.hasStroke()){if(!n){this.save();var e=this.canvasPixelRatio;this.setTransform(e,0,0,e,0,0)}this.applyLineCap(t),i&&t.dashEnabled&&(this.setLineDash(i),this.lineDashOffset=t.dashOffset),this.lineWidth=t.strokeWidth,t.shadowForStrokeEnabled||(this.shadowColor="rgba(0,0,0,0)"),t.strokeLinearGradientColorStops&&0<t.strokeLinearGradientColorStops.length?this.rn(t):this.strokeStyle=t.stroke,t.strokeFunc(this),n||this.restore()}},a.prototype.applyShadow=function(t){var i=o.get(t.getShadowRGBA(),"black"),n=o.get(t.shadowBlur,5),e=o.get(t.shadowOffset,{x:0,y:0}),r=t.getAbsoluteScale(),s=this.canvasPixelRatio,u=r.x*s,h=r.y*s;this.shadowColor=i,this.shadowBlur=n*Math.min(Math.abs(u),Math.abs(h)),this.shadowOffsetX=e.x*u,this.shadowOffsetY=e.y*h},a.prototype.tn=function(t){var i=t.fill;this.fillStyle=i,t.fillFunc(this)},a.prototype.in=function(t){var i=t.fillPatternX,n=t.fillPatternY,e=t.fillPatternRotation*o.PI_OVER_DEG180,r=t.fillPatternOffsetX,s=t.fillPatternOffsetY,u=t.fillPatternScaleX,h=t.fillPatternScaleY;(i||n)&&this.translate(i||0,n||0),e&&this.rotate(e),(u||h)&&this.scale(u,h),(r||s)&&this.translate(-1*r,-1*s),this.fillStyle=t.getFillPattern(),t.fillFunc(this)},a.prototype.nn=function(t){var i=t.getLinearGradient();i&&(this.fillStyle=i,t.fillFunc(this))},a.prototype.en=function(t){var i=t.getRadialGradient();i&&(this.fillStyle=i,t.fillFunc(this))},a.prototype.rn=function(t){var i=t.strokeLinearGradientStartPoint,n=t.strokeLinearGradientEndPoint,e=t.strokeLinearGradientColorStops,r=this.createLinearGradient(i.x,i.y,n.x,n.y);if(e&&0<e.length){for(var s=0;s<e.length;s+=2)r.addColorStop(e[s],e[s+1]);this.strokeStyle=r}},a);function a(){return null!==s&&s.apply(this,arguments)||this}i.SceneContextWrapper=h},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(39),d=n(40),o=n(27),g=n(2),f=n(5),a=n(0),m=1,O=2,r=new Float32Array([0,0,0,0,0,1,0,1,1,1,1,1,1,0,1,0]);function c(t,i){this.closed=!1,this.verts=[t,i,0,0]}var l=/^rgb(a)?\(\s*(-?[\d]+)(%)?\s*,\s*(-?[\d]+)(%)?\s*,\s*(-?[\d]+)(%)?\s*,?\s*(-?[\d\.]+)?\s*\)$/,b=/^hsl(a)?\(\s*(-?[\d\.]+)\s*,\s*(-?[\d\.]+)%\s*,\s*(-?[\d\.]+)%\s*,?\s*(-?[\d\.]+)?\s*\)$/,v=/^#([0-9A-Fa-f]{6})$/,j=/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/;function _(t){var i,n,e,r,s,u,h=[];if(i=l.exec(t)){if(r=i[1],s=parseFloat(i[8]),r&&isNaN(s)||!r&&!isNaN(s))return!1;u=i[3];for(var o=2;o<8;o+=2){if(n=i[o],(e=i[o+1])!==u)return!1;n=e?(n=100<n?1:n/100)<0?0:n:(n=255<n?1:n/255)<0?0:n,h.push(n)}h.push(r?s:1)}else if(i=b.exec(t))r=i[1],s=parseFloat(i[5]),h=function(t,i,n,e){var r,s,u,h,o;function a(t){return 6*t<1?h+(o-h)*t*6:2*t<1?o:3*t<2?h+(o-h)*(2/3-t)*6:h}return i=(i=100<i?1:i/100)<0?0:i,h=2*(n=(n=100<n?1:n/100)<0?0:n)-(o=n<=.5?n*(i+1):n+i-n*i),r=a((t=(t%360+360)%360/360)+1/3),s=a(t),u=a(t-1/3),[r,s,u,e]}(i[2],i[3],i[4],parseFloat(r&&s?s:1));else if(i=v.exec(t)){var a=parseInt(i[1],16);h=[((16711680&a)>>16)/255,((65280&a)>>8)/255,(255&a)/255,1]}else if(i=j.exec(t)){var c="#"+[i[1],i[1],i[2],i[2],i[3],i[3]].join("");h=_(c)}else if(t.toLowerCase()in f.COLORS)h=_(c=f.COLORS[t.toLowerCase()]);else{if("transparent"!==t.toLowerCase())return!1;h=[0,0,0,0]}return h}function s(t){return"rgba("+255*t[0]+", "+255*t[1]+", "+255*t[2]+", "+parseFloat(t[3])+")"}var u=(h.prototype.setSize=function(t,i){var n=this.sn;t&&i&&0<t&&0<i?n.viewport(0,0,t,i):n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight)},Object.defineProperty(h.prototype,"fillStyle",{get:function(){return s(this.un.fillStyle)},set:function(t){this.un.fillStyle=_(t)||this.un.fillStyle},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"strokeStyle",{get:function(){return s(this.un.strokeStyle)},set:function(t){this.un.strokeStyle=_(t)||this.un.strokeStyle},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"lineWidth",{get:function(){return this.un.lineWidth},set:function(t){this.sn.lineWidth(t),this.un.lineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"lineCap",{get:function(){return this.un.lineCap},set:function(t){this.un.lineCap=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"lineJoin",{get:function(){return this.un.lineJoin},set:function(t){this.un.lineJoin=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"miterLimit",{get:function(){return this.un.miterLimit},set:function(t){this.un.miterLimit=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"shadowOffsetX",{get:function(){return this.un.shadowOffsetX},set:function(t){this.un.shadowOffsetX=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"shadowOffsetY",{get:function(){return this.un.shadowOffsetY},set:function(t){this.un.shadowOffsetY=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"shadowBlur",{get:function(){return this.un.shadowBlur},set:function(t){this.un.shadowBlur=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"shadowColor",{get:function(){return this.un.shadowBlur},set:function(t){this.un.shadowBlur=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"font",{get:function(){return this.un.font},set:function(t){this.un.font=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"textAlign",{get:function(){return this.un.textAlign},set:function(t){this.un.textAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"textBaseline",{get:function(){return this.un.textBaseline},set:function(t){this.un.textBaseline=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"globalAlpha",{get:function(){return this.un.globalAlpha},set:function(t){this.un.globalAlpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"globalCompositeOperation",{get:function(){return this.un.globalCompositeOperation},set:function(t){this.un.globalAlpha=t},enumerable:!0,configurable:!0}),h.prototype.arc=function(t,i,n,e,r,s){void 0===s&&(s=!1);for(var u=new c(t+n*Math.cos(e),i+n*Math.sin(e)),h=1;h<=360;h++){var o=e+h/180*a.PI;if(!(o<r)){o=r,u.verts.push(t+n*Math.cos(o),i+n*Math.sin(o),0,0);break}u.verts.push(t+n*Math.cos(o),i+n*Math.sin(o),0,0)}this.hn.push(u)},h.prototype.arcTo=function(t,i,n,e,r){},h.prototype.beginPath=function(){this.hn=[],this.hn.length=0},h.prototype.bezierCurveTo=function(t,i,n,e,r,s){},h.prototype.clearRect=function(){},h.prototype.clip=function(){},h.prototype.closePath=function(){if(this.hn.length){var t=this.hn[this.hn.length-1],i=t.verts[0],n=t.verts[1];t.closed=!0;var e=new c(i,n);this.hn.push(e)}},h.prototype.createImageData=function(t,i){return g.default.createDummyContext().createImageData(t,i)},h.prototype.createLinearGradient=function(){},h.prototype.createPattern=function(){},h.prototype.createRadialGradient=function(){},h.prototype.drawImage=function(t,i,n,e,r,s,u,h,o){var a=this.sn,c=this.an;c.pushMatrix();var f=m,l=!1;3===arguments.length?(c.translate(i,n),c.scale(t.width,t.height)):5===arguments.length?(c.translate(i,n),c.scale(e,r)):9===arguments.length&&(c.translate(s,u),c.scale(h,o),f|=O,l=!0);var b,v=d.default.initShaders(a,c.c_stack,f),g=this.cn.indexOf(t);-1!==g?b=this.fn[g]:(b=this.ln(t),this.cn.push(t),this.fn.push(b)),l&&a.uniform4f(v.uCropSource,i/t.width,n/t.height,e/t.width,r/t.height),a.bindBuffer(a.ARRAY_BUFFER,this.bn),a.vertexAttribPointer(v.vertexPositionAttribute,4,a.FLOAT,!1,0,0),a.bindTexture(a.TEXTURE_2D,b),a.activeTexture(a.TEXTURE0),a.uniform1i(v.uSampler,0),this.vn(v),a.drawArrays(a.TRIANGLE_FAN,0,4),c.popMatrix()},h.prototype.fill=function(){for(var t=0;t<this.hn.length;t++)this.gn(t)},h.prototype.fillRect=function(t,i,n,e){var r=this.sn,s=d.default.initShaders(r,this.an.c_stack+2,0);r.bindBuffer(r.ARRAY_BUFFER,this.bn),r.vertexAttribPointer(s.vertexPositionAttribute,4,r.FLOAT,!1,0,0),this.an.pushMatrix(),this.an.translate(t,i),this.an.scale(n,e),this.vn(s),r.uniform4f(s.uColor,this.un.fillStyle[0],this.un.fillStyle[1],this.un.fillStyle[2],this.un.fillStyle[3]),r.drawArrays(r.TRIANGLE_FAN,0,4),this.an.popMatrix()},h.prototype.fillText=function(t,i,n){},h.prototype.getImageData=function(t,i,n,e){var r=this.sn,s=g.default.createDummyContext().createImageData(n,e),u=new Uint8Array(n*e*4);r.readPixels(t,i,n,e,r.RGBA,r.UNSIGNED_BYTE,u);for(var h=4*n,o=e,a=0,c=o/2;a<c;++a)for(var f=0,l=h;f<l;++f){var b=a*h+f,v=(o-a-1)*h+f;s.data[b]=u[v],s.data[v]=u[b]}return s},h.prototype.lineTo=function(t,i){this.hn.length?this.hn[this.hn.length-1].verts.push(t,i,0,0):this.moveTo(t,i)},h.prototype.measureText=function(){},h.prototype.moveTo=function(t,i){this.hn.push(new c(t,i))},h.prototype.putImageData=function(t,i,n){this.sn.drawImage(t,i,n)},h.prototype.quadraticCurveTo=function(t,i,n,e){},h.prototype.rect=function(t,i,n,e){this.moveTo(t,i),this.lineTo(t+n,i),this.lineTo(t+n,i+e),this.lineTo(t,i+e),this.closePath()},h.prototype.restore=function(){this.an.popMatrix(),this.dn()},h.prototype.rotate=function(t){this.an.rotate(t)},h.prototype.save=function(){this.an.pushMatrix(),this.mn()},h.prototype.scale=function(t,i){this.an.scale(t,i)},h.prototype.setTransform=function(t,i,n,e,r,s){this.an.setIdentity(),this.sn.transform.apply(this,arguments)},h.prototype.stroke=function(){for(var t=0;t<this.hn.length;t++)this.On(t)},h.prototype.strokeRect=function(t,i,n,e){var r=this.sn,s=this.an,u=d.default.initShaders(r,s.c_stack+2,0);r.bindBuffer(r.ARRAY_BUFFER,this.bn),r.vertexAttribPointer(u.vertexPositionAttribute,4,r.FLOAT,!1,0,0),s.pushMatrix(),s.translate(t,i),s.scale(n,e),this.vn(u),r.uniform4f(u.uColor,this.un.strokeStyle[0],this.un.strokeStyle[1],this.un.strokeStyle[2],this.un.strokeStyle[3]),r.drawArrays(r.LINE_LOOP,0,4),s.popMatrix()},h.prototype.strokeText=function(){},h.prototype.transform=function(t,i,n,e,r,s){var u=[t,i,0,n,e,0,r,s,1],h=this.an.m_stack[this.an.c_stack];o.default.multiply(u,h)},h.prototype.translate=function(t,i){this.an.translate(t,i)},h.prototype.jn=function(){var t=this.sn;this.bn=t.createBuffer(),this._n=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.bn),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW)},h.prototype.gn=function(t){var i=this.sn,n=this.an,e=d.default.initShaders(i,n.c_stack+2,0),r=this.hn[t].verts;i.bindBuffer(i.ARRAY_BUFFER,this._n),i.bufferData(i.ARRAY_BUFFER,new Float32Array(r),i.STATIC_DRAW),i.vertexAttribPointer(e.vertexPositionAttribute,4,i.FLOAT,!1,0,0),n.pushMatrix(),this.vn(e),i.uniform4f(e.uColor,this.un.fillStyle[0],this.un.fillStyle[1],this.un.fillStyle[2],this.un.fillStyle[3]),i.drawArrays(i.TRIANGLE_FAN,0,r.length/4),n.popMatrix()},h.prototype.On=function(t){var i=this.sn,n=this.an,e=d.default.initShaders(i,n.c_stack+2,0),r=this.hn[t],s=r.verts;i.bindBuffer(i.ARRAY_BUFFER,this._n),i.bufferData(i.ARRAY_BUFFER,new Float32Array(s),i.STATIC_DRAW),i.vertexAttribPointer(e.vertexPositionAttribute,4,i.FLOAT,!1,0,0),n.pushMatrix(),this.vn(e),i.uniform4f(e.uColor,this.un.strokeStyle[0],this.un.strokeStyle[1],this.un.strokeStyle[2],this.un.strokeStyle[3]),r.closed?i.drawArrays(i.LINE_LOOP,0,s.length/4):i.drawArrays(i.LINE_STRIP,0,s.length/4),n.popMatrix()},h.prototype.ln=function(t){var i=this.sn,n=i.getParameter(i.MAX_TEXTURE_SIZE),e=i.createTexture();if(t.width>n||t.height>n){var r=g.default.createCanvasElement();r.width=t.width>n?n:t.width,r.height=t.height>n?n:t.height,r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),t=r}return i.bindTexture(i.TEXTURE_2D,e),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),this.pn(t.width)&&this.pn(t.height)?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR_MIPMAP_LINEAR),i.generateMipmap(i.TEXTURE_2D)):i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.bindTexture(i.TEXTURE_2D,null),e},h.prototype.pn=function(t){return 0<t&&0==(t-1&t)},h.prototype.mn=function(){var t=this.un,i={fillStyle:[t.fillStyle[0],t.fillStyle[1],t.fillStyle[2],t.fillStyle[3]],strokeStyle:[t.strokeStyle[0],t.strokeStyle[1],t.strokeStyle[2],t.strokeStyle[3]],globalAlpha:t.globalAlpha,globalCompositeOperation:t.globalCompositeOperation,lineCap:t.lineCap,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,shadowColor:t.shadowColor,shadowBlur:t.shadowBlur,shadowOffsetX:t.shadowOffsetX,shadowOffsetY:t.shadowOffsetY,textAlign:t.textAlign,font:t.font,textBaseline:t.textBaseline};this.wn.push(i)},h.prototype.dn=function(){this.wn.length&&(this.un=this.wn.pop())},h.prototype.vn=function(t){for(var i=this.an.m_stack,n=0,e=this.an.c_stack+1;n<e;++n)this.sn.uniformMatrix3fv(t.uTransforms[n],!1,i[e-1-n])},h);function h(t){this.un={},this.wn=[],this.hn=[],this.cn=[],this.fn=[],this.sn=t,d.default.initShaders(this.sn),this.jn(),this.an=new e.default,this.un.fillStyle=[0,0,0,1],this.un.strokeStyle=[0,0,0,1],this.un.lineWidth=1,this.un.lineCap="butt",this.un.lineJoin="miter",this.un.miterLimit=10,this.un.shadowOffsetX=0,this.un.shadowOffsetY=0,this.un.shadowBlur=0,this.un.shadowColor="rgba(0, 0, 0, 0.0)",this.un.font="10px sans-serif",this.un.textAlign="start",this.un.textBaseline="alphabetic",this.un.globalAlpha=1,this.un.globalCompositeOperation="source-over"}i.default=u},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var r=n(27),e=(s.prototype.clearStack=function(t){this.m_stack=[],this.m_cache=[],this.c_stack=0,this.valid=0,this.result=null;for(var i=0;i<16;i++)this.m_stack[i]=this.getIdentity();void 0!==t?this.m_stack[0]=t:this.setIdentity()},s.prototype.setIdentity=function(){this.m_stack[this.c_stack]=this.getIdentity(),this.valid===this.c_stack&&this.c_stack&&this.valid--},s.prototype.getIdentity=function(){return[1,0,0,0,1,0,0,0,1]},s.prototype.getResult=function(){if(!this.c_stack)return this.m_stack[0];var t=r.default.identity;this.valid>this.c_stack-1&&(this.valid=this.c_stack-1);for(var i=this.valid;i<this.c_stack+1;i++)r.default.multiply(this.m_stack[i],t),this.m_cache[i]=t;return this.valid=this.c_stack-1,this.result=this.m_cache[this.c_stack],this.result},s.prototype.pushMatrix=function(){this.c_stack++,this.m_stack[this.c_stack]=this.getIdentity()},s.prototype.popMatrix=function(){0!==this.c_stack&&this.c_stack--},s.prototype.translate=function(t,i){var n=this.getIdentity();n[6]=t,n[7]=i,r.default.multiply(n,this.m_stack[this.c_stack])},s.prototype.scale=function(t,i){var n=this.getIdentity();n[0]=t,n[4]=i,r.default.multiply(n,this.m_stack[this.c_stack])},s.prototype.rotate=function(t){var i,n,e=this.getIdentity();i=Math.sin(-t),n=Math.cos(-t),e[0]=n,e[3]=i,e[1]=-i,e[4]=n,r.default.multiply(e,this.m_stack[this.c_stack])},s);function s(t){this.clearStack(t)}i.default=e},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var r=1,e=2,s=(c.initShaders=function(t,i,n){n=n||0;var e=c.yn[i=i||1];if(e=(e=e||(c.yn[i]=[]))[n])return t.useProgram(e),e;var r=t.drawingBufferWidth,s=t.drawingBufferHeight,u=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(u,this.Mn(n)),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS))throw"fragment shader error: "+t.getShaderInfoLog(u);var h=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(h,this.xn(r,s,i,n)),t.compileShader(h),!t.getShaderParameter(h,t.COMPILE_STATUS))throw"vertex shader error: "+t.getShaderInfoLog(h);var o=t.createProgram();if(o.stackDepth=i,t.attachShader(o,u),t.attachShader(o,h),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw"Could not initialise shaders.";t.useProgram(o),o.vertexPositionAttribute=t.getAttribLocation(o,"aVertexPosition"),t.enableVertexAttribArray(o.vertexPositionAttribute),o.uColor=t.getUniformLocation(o,"uColor"),o.uSampler=t.getUniformLocation(o,"uSampler"),o.uCropSource=t.getUniformLocation(o,"uCropSource"),o.uTransforms=[];for(var a=0;a<i;++a)o.uTransforms[a]=t.getUniformLocation(o,"uTransforms["+a+"]");return c.yn[i][n]=o},c.Mn=function(t){return["#ifdef GL_ES","precision highp float;","#endif","#define hasTexture "+(t&r?"1":"0"),"#define hasCrop "+(t&e?"1":"0"),"varying vec4 vColor;","#if hasTexture","varying vec2 vTextureCoord;","uniform sampler2D uSampler;","#if hasCrop","uniform vec4 uCropSource;","#endif","#endif","void main(void) {","#if hasTexture","#if hasCrop","gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x * uCropSource.z, vTextureCoord.y * uCropSource.w) + uCropSource.xy);","#else","gl_FragColor = texture2D(uSampler, vTextureCoord);","#endif","#else","gl_FragColor = vColor;","#endif","}"].join("\n")},c.xn=function(t,i,n,e){return["#define hasTexture "+(e&r?"1":"0"),"attribute vec4 aVertexPosition;","#if hasTexture","varying vec2 vTextureCoord;","#endif","uniform vec4 uColor;","uniform mat3 uTransforms["+(n=n||1)+"];","varying vec4 vColor;","const mat4 pMatrix = mat4("+2/t+",0,0,0, 0,"+-2/i+",0,0, 0,0,1.0,1.0, -1.0,1.0,0,0);","mat3 crunchStack(void) {","mat3 result = uTransforms[0];","for (int i = 1; i < "+n+"; ++i) {","result = uTransforms[i] * result;","}","return result;","}","void main(void) {","vec3 position = crunchStack() * vec3(aVertexPosition.x, aVertexPosition.y, 1.0);","gl_Position = pMatrix * vec4(position, 1.0);","vColor = uColor;","#if hasTexture","vTextureCoord = aVertexPosition.zw;","#endif","}"].join("\n")},c.yn=[],c);function c(){}i.default=s},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var g=n(9),d=n(17),e=n(7),m=n(6),O="canvas",r=(s.prototype.isCached=function(){return this.Cn.containsKey("canvas")},s.prototype.getCache=function(t,i){var n=this.Cn.getValue(t);return void 0===n&&(n=i.call(this.kn),this.Cn.setValue(t,n)),n},s.prototype.clearCache=function(t){t?this.Cn.remove(t):this.Cn.clear()},s.prototype.clearSelfAndDescendantCache=function(i){this.clearCache(i),this.getCanvasCache()||this.kn.children&&this.kn.children.forEach(function(t){t.caches.clearSelfAndDescendantCache(i)})},s.prototype.getCanvasCache=function(){return this.Cn.getValue(O)},s.prototype.setCanvasCache=function(t){var i=t||{},n={};void 0!==i.x&&void 0!==i.y&&void 0!==i.width&&void 0!==i.height||(n=this.kn.getClientRect({skipTransform:!0,relativeTo:this.kn.getParent()}));var e=i.width||n.width,r=i.height||n.height,s=i.pixelRatio,u=void 0===i.x?n.x:i.x,h=void 0===i.y?n.y:i.y,o=i.offset||0,a=i.drawBorder||!1;if(e&&r){e+=2*o,r+=2*o,u-=o,h-=o;var c=new g.SceneCanvas({pixelRatio:s,width:e,height:r}),f=new d.HitCanvas({pixelRatio:1,width:e,height:r}),l=c.contextWrapper,b=f.contextWrapper,v=new g.SceneCanvas({pixelRatio:s,width:e,height:r});return f.isCache=!0,this.Cn.remove(O),(this.kn.updatedAfterInjection=!1)===i.imageSmoothingEnabled&&(c.contextWrapper.context.imageSmoothingEnabled=!1,f.contextWrapper.context.imageSmoothingEnabled=!1,v.contextWrapper.context.imageSmoothingEnabled=!1),l.save(),b.save(),l.translate(-u,-h),b.translate(-u,-h),this.kn.isUnderCache=!0,this.clearSelfAndDescendantCache("absoluteOpacity"),this.clearSelfAndDescendantCache("absoluteScale"),this.kn.drawScene(c,this.kn,!0),this.kn.drawHit(f,this.kn,!0),this.kn.isUnderCache=!1,l.restore(),b.restore(),a&&(l.save(),l.beginPath(),l.rect(0,0,e,r),l.closePath(),l.strokeStyle="red",l.lineWidth=5,l.stroke(),l.restore()),this.Cn.setValue(O,{scene:c,hit:f,injector:v,x:u,y:h}),this}m.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},s.prototype.clearCanvasCache=function(){return this.Cn.remove(O),this.clearSelfAndDescendantCache(),this},s.prototype.getCachedSceneCanvas=function(){var t=this.kn.injectors,i=this.getCanvasCache(),n=i.scene,e=i.injector;if(t){if(!this.kn.updatedAfterInjection){var r=n.pixelRatio;try{var s=e.contextWrapper;s.clear(),s.drawImage(n.canvasElement,0,0,n.width/r,n.height/r);for(var u=s.getImageData(0,0,e.width,e.height),h=0;h<t.length;h++)t[h].run(u),s.putImageData(u,0,0)}catch(t){m.error("Unable to apply injector. "+t.message)}this.kn.updatedAfterInjection=!0}return e}return n},s.prototype.drawCachedSceneCanvas=function(t){t.save(),t.applyOpacity(this.kn),t.applyGlobalCompositeOperation(this.kn);var i=this.getCanvasCache();t.translate(i.x,i.y);var n=this.getCachedSceneCanvas(),e=n.pixelRatio;t.drawImage(n.canvasElement,0,0,n.width/e,n.height/e),t.restore()},s.prototype.drawCachedHitCanvas=function(t){t.save(),t.applyGlobalCompositeOperation(this);var i=this.getCanvasCache();t.translate(i.x,i.y);var n=i.hit;t.drawImage(n.canvasElement,0,0),t.restore()},s);function s(t){this.Cn=new e.Dictionary,this.kn=t}i.NodeCaches=r},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(25),h=(s=u.ContextWrapper,r(o,s),o.prototype.fillShapeImpl=function(t){this.save(),this.fillStyle=t.colorKey,t.hitFillFunc(this),this.restore()},o.prototype.strokeShapeImpl=function(t){if(t.hasStroke()&&t.hitStrokeWidth){var i=t.strokeScaleEnabled;if(!i){this.save();var n=this.canvasPixelRatio;this.setTransform(n,0,0,n,0,0)}this.applyLineCap(t);var e=t.hitStrokeWidth,r="auto"===e?t.strokeWidth:e;this.lineWidth=r,this.strokeStyle=t.colorKey,t.hitStrokeFunc(this),i||this.restore()}},o.prototype.applyShadow=function(t){},o);function o(){return null!==s&&s.apply(this,arguments)||this}i.HitContextWrapper=h},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var c=n(10),f=n(18),u=n(14),l=n(4),h=n(2),s="mouseout",o="mouseleave",a="mouseover",b="mouseenter",v="mousemove",e="mousedown",g="mouseup",r="pointermove",d="pointerdown",m="pointerup",O="contextmenu",j="dblclick",_="touchstart",p="touchend",w="touchmove",y="wheel",M=[b,e,v,g,s,_,w,p,a,y,O,d,r,m,"pointercancel","lostpointercapture"],x=M.length,C=(k.prototype.bindContentEvents=function(){for(var t=0;t<x;t++)this.Sn(M[t])},k.prototype.mouseenter=function(t){this.setPointersPositions(t),this.En.fire(b,{evt:t,target:this,currentTarget:this})},k.prototype.mousedown=function(t){if(u.default.isIEMobile)return this.touchstart(t);this.setPointersPositions(t);var i=this.ut(t),n=this.En.getIntersection(this.En.getPointerPosition());l.default.listenClickTap=!0,n&&n.isListening()?(this.Pn=n).fireAndBubble(e,{evt:t,pointerId:i}):this.En.fire(e,{evt:t,target:this,currentTarget:this,pointerId:i}),this.En.fire("contentMousedown",{evt:t})},k.prototype.mouseup=function(t){if(u.default.isIEMobile)return this.touchend(t);this.setPointersPositions(t);var i=this.ut(t),n=this.En.getIntersection(this.En.getPointerPosition()),e=this.Pn,r=this.An,s=!1;l.default.inDblClickWindow?(s=!0,clearTimeout(this.Rn)):c.default.justDragged?c.default&&(c.default.justDragged=!1):(l.default.inDblClickWindow=!0,clearTimeout(this.Rn)),this.Rn=setTimeout(function(){this.inDblClickWindow=!1},l.default.dblClickWindow),n&&n.isListening()?((this.An=n).fireAndBubble(g,{evt:t,pointerId:i}),l.default.listenClickTap&&e&&e.uid===n.uid&&(n.fireAndBubble("click",{evt:t,pointerId:i}),s&&r&&r===n&&n.fireAndBubble(j,{evt:t,pointerId:i}))):(this.En.fire(g,{evt:t,target:this,currentTarget:this,pointerId:i}),l.default.listenClickTap&&this.En.fire("click",{evt:t,target:this,currentTarget:this,pointerId:i}),s&&this.En.fire(j,{evt:t,target:this,currentTarget:this,pointerId:i})),this.En.fire("contentMouseup",{evt:t}),l.default.listenClickTap&&(this.En.fire("contentClick",{evt:t}),s&&this.En.fire("contentDblclick",{evt:t})),l.default.listenClickTap=!1,t.cancelable&&t.preventDefault()},k.prototype.mousemove=function(t){if(u.default.isIEMobile)return this.touchmove(t);this.setPointersPositions(t);var i,n=this.ut(t),e=!c.default.isDragging||l.default.hitOnDragEnabled;if(e){if((i=this.En.getIntersection(this.En.getPointerPosition()))&&i.isListening()){var r=!this.In||this.In!==i;e&&r?(this.In&&(this.In.fireAndBubble(s,{evt:t,pointerId:n},i),this.In.fireAndBubble(o,{evt:t,pointerId:n},i)),i.fireAndBubble(a,{evt:t,pointerId:n},this.In),i.fireAndBubble(b,{evt:t,pointerId:n},this.In),i.fireAndBubble(v,{evt:t,pointerId:n}),this.In=i):i.fireAndBubble(v,{evt:t,pointerId:n})}else this.In&&e&&(this.In.fireAndBubble(s,{evt:t,pointerId:n}),this.In.fireAndBubble(o,{evt:t,pointerId:n}),this.En.fire(a,{evt:t,target:this,currentTarget:this,pointerId:n}),this.In=null),this.En.fire(v,{evt:t,target:this,currentTarget:this,pointerId:n});this.En.fire("contentMousemove",{evt:t})}t.cancelable&&t.preventDefault()},k.prototype.mouseover=function(t){this.setPointersPositions(t),this.En.fire("contentMouseover",{evt:t}),this.En.fire(a,{evt:t,target:this,currentTarget:this})},k.prototype.mouseout=function(t){this.setPointersPositions(t);var i=this.In,n=!c.default.isDragging||l.default.hitOnDragEnabled;i&&n?(i.fireAndBubble(s,{evt:t}),i.fireAndBubble(o,{evt:t}),this.In=null):n&&(this.En.fire(o,{evt:t,target:this,currentTarget:this}),this.En.fire(s,{evt:t,target:this,currentTarget:this})),this.En.pointerPos=void 0,this.En.pointerPositions=[],this.En.fire("contentMouseout",{evt:t})},k.prototype.touchstart=function(n){var e=this;this.setPointersPositions(n);var r=!1;this.En.changedPointerPositions.forEach(function(t){var i=e.En.getIntersection(t);l.default.listenClickTap=!0,i&&i.isListening()&&(l.default.captureTouchEventsEnabled&&i.setPointerCapture(t.id),(e.Gn=i).fireAndBubble(_,{evt:n,pointerId:t.id},e),r=!0,i.isListening()&&i.preventDefault&&n.cancelable&&n.preventDefault())}),r||this.En.fire(_,{evt:n,target:this,currentTarget:this,pointerId:this.En.changedPointerPositions[0].id}),this.En.fire("contentTouchstart",{evt:n})},k.prototype.touchmove=function(n){var e=this;if(this.setPointersPositions(n),!c.default.isDragging||l.default.hitOnDragEnabled){var r=!1,s={};this.En.changedPointerPositions.forEach(function(t){var i=f.getCapturedShape(t.id)||e.En.getIntersection(t);i&&i.isListening()&&(s[i.uid]||(s[i.uid]=!0,i.fireAndBubble(w,{evt:n,pointerId:t.id}),r=!0,i.isListening()&&i.preventDefault&&n.cancelable&&n.preventDefault()))}),r||this.En.fire(w,{evt:n,target:this,currentTarget:this,pointerId:this.En.changedPointerPositions[0].id}),this.En.fire("contentTouchmove",{evt:n})}c.default.isDragging&&c.default.node.preventDefault&&n.cancelable&&n.preventDefault()},k.prototype.touchend=function(n){var e=this;this.setPointersPositions(n);var r=this.An,s=!1;l.default.inDblClickWindow?(s=!0,clearTimeout(this.Rn)):c.default.justDragged||(l.default.inDblClickWindow=!0,clearTimeout(this.Rn)),this.Rn=setTimeout(function(){this.inDblClickWindow=!1},l.default.dblClickWindow);var u=!1,h={},o=!1,a=!1;this.En.changedPointerPositions.forEach(function(t){var i=f.getCapturedShape(t.id)||e.En.getIntersection(t);i&&i.releaseCapture(t.id),i&&i.isListening()&&(h[i.uid]||(h[i.uid]=!0,(e.An=i).fireAndBubble(p,{evt:n,pointerId:t.id}),u=!0,l.default.listenClickTap&&i===e.Gn&&(o=!0,i.fireAndBubble("tap",{evt:n,pointerId:t.id}),s&&r&&r===i&&(a=!0,i.fireAndBubble("dbltap",{evt:n,pointerId:t.id}))),i.isListening()&&i.preventDefault&&n.cancelable&&n.preventDefault()))}),u||this.En.fire(p,{evt:n,target:this,currentTarget:this,pointerId:this.En.changedPointerPositions[0].id}),l.default.listenClickTap&&!o&&this.En.fire("tap",{evt:n,target:this,currentTarget:this,pointerId:this.En.changedPointerPositions[0].id}),s&&!a&&this.En.fire("dbltap",{evt:n,target:this,currentTarget:this,pointerId:this.En.changedPointerPositions[0].id}),this.En.fire("contentTouchend",{evt:n}),l.default.listenClickTap&&(this.En.fire("contentTap",{evt:n}),s&&this.En.fire("contentDbltap",{evt:n})),l.default.listenClickTap=!1},k.prototype.pointerdown=function(t){if(l.default.pointerEventsEnabled){this.setPointersPositions(t);var i=f.getCapturedShape(t.pointerId)||this.En.getIntersection(this.En.getPointerPosition());i&&i.fireAndBubble(d,f.createEvent(t))}},k.prototype.pointerup=function(t){if(l.default.pointerEventsEnabled){this.setPointersPositions(t);var i=f.getCapturedShape(t.pointerId)||this.En.getIntersection(this.En.getPointerPosition());i&&i.fireAndBubble(m,f.createEvent(t)),f.releaseCapture(t.pointerId)}},k.prototype.pointermove=function(t){if(l.default.pointerEventsEnabled){this.setPointersPositions(t);var i=f.getCapturedShape(t.pointerId)||this.En.getIntersection(this.En.getPointerPosition());i&&i.fireAndBubble(r,f.createEvent(t))}},k.prototype.pointercancel=function(t){if(l.default.pointerEventsEnabled){this.setPointersPositions(t);var i=f.getCapturedShape(t.pointerId)||this.En.getIntersection(this.En.getPointerPosition());i&&i.fireAndBubble(m,f.createEvent(t)),f.releaseCapture(t.pointerId)}},k.prototype.wheel=function(t){this.setPointersPositions(t);var i=this.En.getIntersection(this.En.getPointerPosition());i&&i.isListening()?i.fireAndBubble(y,{evt:t}):this.En.fire(y,{evt:t,target:this,currentTarget:this}),this.En.fire("contentWheel",{evt:t})},k.prototype.contextmenu=function(t){this.setPointersPositions(t);var i=this.En.getIntersection(this.En.getPointerPosition());i&&i.isListening()?i.fireAndBubble(O,{evt:t}):this.En.fire(O,{evt:t,target:this,currentTarget:this}),this.En.fire("contentContextmenu",{evt:t})},k.prototype.lostpointercapture=function(t){f.releaseCapture(t.pointerId)},k.prototype.setPointersPositions=function(t){var i=this,n=this.En.getContentPosition(),e=null,r=null;if(void 0!==(t=t||h.default.getGlobal().event).touches){if(this.En.pointerPositions=[],this.En.changedPointerPositions=[],Array.prototype.forEach.call(t.touches,function(t){t.clientX&&t.clientY?i.En.pointerPositions.push({id:t.identifier,x:t.clientX-n.left,y:t.clientY-n.top}):i.En.pointerPositions.push({id:t.identifier,x:t.x-n.left,y:t.y-n.top})}),Array.prototype.forEach.call(t.changedTouches||t.touches,function(t){t.clientX&&t.clientY?i.En.changedPointerPositions.push({id:t.identifier,x:t.clientX-n.left,y:t.clientY-n.top}):i.En.changedPointerPositions.push({id:t.identifier,x:t.x-n.left,y:t.y-n.top})}),0<t.touches.length){var s=t.touches[0];r=s.clientX&&s.clientY?(e=s.clientX-n.left,s.clientY-n.top):(e=s.x-n.left,s.y-n.top)}}else e=t.clientX-n.left,r=t.clientY-n.top,this.En.pointerPos={x:e,y:r},this.En.pointerPositions=[{x:e,y:r,id:this.ut(t)}],this.En.changedPointerPositions=[{x:e,y:r,id:this.ut(t)}]},k.prototype.ut=function(t){return t.touches?t.changedTouches[0].identifier:999},k.prototype.Sn=function(i){var n=this;n.En.content.addEventListener(i,function(t){n[i](t)},!1)},k);function k(t){this.En=t}i.StageEvents=C},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(13),h=n(17),o=n(1),a=n(0),c=n(5),f=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],l=f.length,b=(s=u.BaseLayer,r(v,s),Object.defineProperty(v.prototype,"hitGraphEnabled",{get:function(){return this.Tn},set:function(t){this.Tn=t,this.setAttr("hitGraphEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"size",{get:function(){if(this.parent)return this.parent.size},set:function(t){this.setCanvasSize(t.width,t.height)},enumerable:!0,configurable:!0}),v.prototype.setCanvasSize=function(t,i){this.canvas.setSize(t,i),this.hitCanvas.setSize(t,i),this.checkSmooth()},v.prototype.validateAdd=function(t){var i=t.getType();if("Group"!==i&&"Shape"!==i)throw new Error("You may only add groups and shapes to a layer.")},v.prototype.getIntersection=function(t,i){var n,e,r,s;if(!this.Tn||!this.isVisible())return null;for(var u=1,h=!1;;){for(e=0;e<l;e++){if(r=f[e],(s=(n=this.Ln({x:t.x+r.x*u,y:t.y+r.y*u})).shape)&&i)return s.findAncestor(i,!0);if(s)return s;if(h=!!n.antialiased,!n.antialiased)break}if(!h)return null;u+=1}},v.prototype.drawScene=function(t,i){var n=this.getLayer(),e=t||n&&n.canvas;return this.fire("beforeDraw",{node:this}),this.clearBeforeDraw&&e.contextWrapper.clear(),s.prototype.drawScene.call(this,e,i),this.fire("draw",{node:this}),this},v.prototype.drawHit=function(t,i){var n=this.getLayer(),e=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw&&n.hitCanvas.contextWrapper.clear(),s.prototype.drawHit.call(this,e,i),this},v.prototype.clear=function(t){return s.prototype.clear.call(this,t),this.hitCanvas.contextWrapper.clear(t),this},v.prototype.enableHitGraph=function(){return this.Tn=!0,this},v.prototype.disableHitGraph=function(){return this.Tn=!1,this},v.prototype.toggleHitCanvas=function(){if(!this.parent)return this;if(!t.content)return this;var t=this.parent;return this.hitCanvas.canvasElement.parentNode?t.content.removeChild(this.hitCanvas.canvasElement):t.content.appendChild(this.hitCanvas.canvasElement),this},v.prototype.Ln=function(t){var i,n,e=this.hitCanvas.pixelRatio,r=this.hitCanvas.contextWrapper.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,s=r[3];return 255===s?(i=c.rgbToHex(r[0],r[1],r[2]),(n=o.Shape.shapes["#"+i])?{shape:n}:{antialiased:!0}):0<s?{antialiased:!0}:{}},v);function v(t){var i=s.call(this,t)||this;return t=t||{},i.nodeType="Layer",i.Tn=a.get(t.hitGraphEnabled,!0),t.hitCanvasElement?i.hitCanvas=new h.HitCanvas({canvasElement:t.hitCanvasElement,offScreen:!1,pixelRatio:1}):i.hitCanvas=new h.HitCanvas({offScreen:!1,pixelRatio:1}),i}i.Layer=b},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(8),h=n(0),o=n(5),a=(s=u.Node,r(c,s),Object.defineProperty(c.prototype,"lineCap",{get:function(){return this.Yn},set:function(t){this.Yn=t,this.setAttr("lineCap",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"lineJoin",{get:function(){return this.Xn},set:function(t){this.Xn=t,this.setAttr("lineJoin",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dash",{get:function(){return this.Dn},set:function(t){this.Dn=t,this.setAttr("dash",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dashEnabled",{get:function(){return this.Fn},set:function(t){this.Fn=t,this.setAttr("dashEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dashOffset",{get:function(){return this.Bn},set:function(t){this.Bn=t,this.setAttr("dashOffset",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fill",{get:function(){return this.Nn},set:function(t){this.Nn=t,this.setAttr("fill",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillEnabled",{get:function(){return this.zn},set:function(t){this.zn=t,this.setAttr("fillEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillLinearGradientColorStops",{get:function(){return this.Wn},set:function(t){this.Wn=t,this.setAttr("fillLinearGradientColorStops",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillLinearGradientStartPointX",{get:function(){return this.Hn},set:function(t){this.Hn=t,this.setAttr("fillLinearGradientStartPointX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillLinearGradientStartPointY",{get:function(){return this.qn},set:function(t){this.qn=t,this.setAttr("fillLinearGradientStartPointY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillLinearGradientEndPointX",{get:function(){return this.Vn},set:function(t){this.Vn=t,this.setAttr("fillLinearGradientEndPointX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillLinearGradientEndPointY",{get:function(){return this.Qn},set:function(t){this.Qn=t,this.setAttr("fillLinearGradientEndPointY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillRadialGradientStartRadius",{get:function(){return this.$n},set:function(t){this.$n=t,this.setAttr("fillRadialGradientStartRadius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillRadialGradientEndRadius",{get:function(){return this.Jn},set:function(t){this.Jn=t,this.setAttr("fillRadialGradientEndRadius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillRadialGradientColorStops",{get:function(){return this.Un},set:function(t){this.Un=t,this.setAttr("fillRadialGradientColorStops",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillRadialGradientStartPointX",{get:function(){return this.Zn},set:function(t){this.Zn=t,this.setAttr("fillRadialGradientStartPointX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillRadialGradientStartPointY",{get:function(){return this.Kn},set:function(t){this.Kn=t,this.setAttr("fillRadialGradientStartPointY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillRadialGradientEndPointX",{get:function(){return this.te},set:function(t){this.te=t,this.setAttr("fillRadialGradientEndPointX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillRadialGradientEndPointY",{get:function(){return this.ie},set:function(t){this.ie=t,this.setAttr("fillRadialGradientEndPointY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternImage",{get:function(){return this.ne},set:function(t){this.ne=t,this.setAttr("fillPatternImage",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternOffsetX",{get:function(){return this.ee},set:function(t){this.ee=t,this.setAttr("fillPatternOffsetX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternOffsetY",{get:function(){return this.re},set:function(t){this.re=t,this.setAttr("fillPatternOffsetY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternRepeat",{get:function(){return this.se},set:function(t){this.se=t,this.setAttr("fillPatternRepeat",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternRotation",{get:function(){return this.ue},set:function(t){this.ue=t,this.setAttr("fillPatternRotation",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternScaleX",{get:function(){return this.he},set:function(t){this.he=t,this.setAttr("fillPatternScaleX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternScaleY",{get:function(){return this.oe},set:function(t){this.oe=t,this.setAttr("fillPatternScaleY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternX",{get:function(){return this.ae},set:function(t){this.ae=t,this.setAttr("fillPatternX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternY",{get:function(){return this.ce},set:function(t){this.ce=t,this.setAttr("fillPatternY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPriority",{get:function(){return this.fe},set:function(t){this.fe=t,this.setAttr("fillPriority",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"shadowColor",{get:function(){return this.le},set:function(t){this.le=t,this.setAttr("shadowColor",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"shadowEnabled",{get:function(){return this.be},set:function(t){this.be=t,this.setAttr("shadowEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"shadowForStrokeEnabled",{get:function(){return this.ve},set:function(t){this.ve=t,this.setAttr("shadowForStrokeEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"shadowOffsetX",{get:function(){return this.ge},set:function(t){this.ge=t,this.setAttr("shadowOffsetX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"shadowOffsetY",{get:function(){return this.de},set:function(t){this.de=t,this.setAttr("shadowOffsetY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"shadowOpacity",{get:function(){return this.me},set:function(t){this.me=t,this.setAttr("shadowOpacity",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"shadowBlur",{get:function(){return this.Oe},set:function(t){this.Oe=t,this.setAttr("shadowBlur",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"stroke",{get:function(){return this.je},set:function(t){this.je=t,this.setAttr("stroke",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeEnabled",{get:function(){return this._e},set:function(t){this._e=t,this.setAttr("strokeEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeScaleEnabled",{get:function(){return this.pe},set:function(t){this.pe=t,this.setAttr("strokeScaleEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeHitEnabled",{get:function(){return this.we},set:function(t){this.we=t,this.setAttr("strokeHitEnabled",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeWidth",{get:function(){return this.ye},set:function(t){this.ye=t,this.setAttr("strokeWidth",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeLinearGradientColorStops",{get:function(){return this.Me},set:function(t){this.Me=t,this.setAttr("strokeLinearGradientColorStops",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeLinearGradientStartPointX",{get:function(){return this.xe},set:function(t){this.xe=t,this.setAttr("strokeLinearGradientStartPointX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeLinearGradientStartPointY",{get:function(){return this.Ce},set:function(t){this.Ce=t,this.setAttr("strokeLinearGradientStartPointY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeLinearGradientEndPointX",{get:function(){return this.ke},set:function(t){this.ke=t,this.setAttr("strokeLinearGradientEndPointX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeLinearGradientEndPointY",{get:function(){return this.Se},set:function(t){this.Se=t,this.setAttr("strokeLinearGradientEndPointY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillLinearGradientStartPoint",{get:function(){return{x:this.fillLinearGradientStartPointX,y:this.fillLinearGradientStartPointY}},set:function(t){this.fillLinearGradientStartPointX=h.get(t.x,0),this.fillLinearGradientStartPointY=h.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillLinearGradientEndPoint",{get:function(){return{x:this.fillLinearGradientEndPointX,y:this.fillLinearGradientEndPointY}},set:function(t){this.fillLinearGradientEndPointX=h.get(t.x,0),this.fillLinearGradientEndPointY=h.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillRadialGradientStartPoint",{get:function(){return{x:this.fillRadialGradientStartPointX,y:this.fillRadialGradientStartPointY}},set:function(t){this.fillRadialGradientStartPointX=h.get(t.x,0),this.fillRadialGradientStartPointY=h.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillRadialGradientEndPoint",{get:function(){return{x:this.fillRadialGradientEndPointX,y:this.fillRadialGradientEndPointY}},set:function(t){this.fillRadialGradientEndPointX=h.get(t.x,0),this.fillRadialGradientEndPointY=h.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternOffset",{get:function(){return{x:this.fillPatternOffsetX,y:this.fillPatternOffsetY}},set:function(t){this.fillPatternOffsetX=h.get(t.x,0),this.fillPatternOffsetY=h.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"fillPatternScale",{get:function(){return{x:this.fillPatternScaleX,y:this.fillPatternScaleY}},set:function(t){this.fillPatternScaleX=h.get(t.x,0),this.fillPatternScaleY=h.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"shadowOffset",{get:function(){return{x:this.shadowOffsetX,y:this.shadowOffsetY}},set:function(t){this.shadowOffsetX=h.get(t.x,0),this.shadowOffsetY=h.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeLinearGradientStartPoint",{get:function(){return{x:this.strokeLinearGradientStartPointX,y:this.strokeLinearGradientStartPointY}},set:function(t){this.strokeLinearGradientStartPointX=h.get(t.x,0),this.strokeLinearGradientStartPointY=h.get(t.y,0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"strokeLinearGradientEndPoint",{get:function(){return{x:this.strokeLinearGradientEndPointX,y:this.strokeLinearGradientEndPointY}},set:function(t){this.strokeLinearGradientEndPointX=h.get(t.x,0),this.strokeLinearGradientEndPointY=h.get(t.y,0)},enumerable:!0,configurable:!0}),c.prototype.hasShadow=function(){return this.caches.getCache("hasShadow",this.Ee)},c.prototype.Ee=function(){return this.be&&0!==this.me&&!!(this.le||this.Oe||this.ge||this.de)},c.prototype.hasFill=function(){return!!(this.Nn||this.ne||this.Wn&&0<this.Wn.length||this.Un&&0<this.Un.length)},c.prototype.hasStroke=function(){return this._e&&this.ye&&!!(this.je||this.Me&&0<this.Me.length)},c.prototype.getShadowRGBA=function(){return this.caches.getCache("shadowRGBA",this.Pe)},c.prototype.Pe=function(){if(this.hasShadow()){var t=o.colorToRGBA(this.le);return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.me||1)+")"}},c);function c(t){var i=s.call(this,t)||this;return t=t||{},i.nodeType="DisplayObject",i.Yn=h.get(t.lineCap,"butt"),i.Xn=h.get(t.lineJoin,"miter"),i.Dn=h.get(t.dash,[]),i.Fn=h.get(t.dashEnabled,!0),i.Bn=h.get(t.dashOffset,0),i.Nn=h.get(t.fill,void 0),i.zn=h.get(t.fillEnabled,!0),i.Wn=h.get(t.fillLinearGradientColorStops,[]),h.has(t.fillLinearGradientStartPoint)?(i.Hn=h.get(t.fillLinearGradientStartPoint.x,0),i.qn=h.get(t.fillLinearGradientStartPoint.y,0)):(i.Hn=h.get(t.fillLinearGradientStartPointX,0),i.qn=h.get(t.fillLinearGradientStartPointY,0)),h.has(t.fillLinearGradientEndPoint)?(i.Vn=h.get(t.fillLinearGradientEndPoint.x,0),i.Qn=h.get(t.fillLinearGradientEndPoint.y,0)):(i.Vn=h.get(t.fillLinearGradientEndPointX,0),i.Qn=h.get(t.fillLinearGradientEndPointY,0)),i.$n=h.get(t.fillRadialGradientStartRadius,0),i.Jn=h.get(t.fillRadialGradientEndRadius,0),i.Un=h.get(t.fillRadialGradientColorStops,[]),h.has(t.fillRadialGradientStartPoint)?(i.Zn=h.get(t.fillRadialGradientStartPoint.x,0),i.Kn=h.get(t.fillRadialGradientStartPoint.y,0)):(i.Zn=h.get(t.fillRadialGradientStartPointX,0),i.Kn=h.get(t.fillRadialGradientStartPointY,0)),h.has(t.fillRadialGradientEndPoint)?(i.te=h.get(t.fillRadialGradientEndPoint.x,0),i.ie=h.get(t.fillRadialGradientEndPoint.y,0)):(i.te=h.get(t.fillRadialGradientEndPointX,0),i.ie=h.get(t.fillRadialGradientEndPointY,0)),i.ne=h.get(t.fillPatternImage,void 0),i.se=h.get(t.fillPatternRepeat,"repeat"),i.ue=h.get(t.fillPatternRotation,0),h.has(t.fillPatternOffset)?(i.ee=h.get(t.fillPatternOffset.x,0),i.re=h.get(t.fillPatternOffset.y,0)):(i.ee=h.get(t.fillPatternOffsetX,0),i.re=h.get(t.fillPatternOffsetY,0)),h.has(t.fillPatternScale)?(i.he=h.get(t.fillPatternScale.x,0),i.oe=h.get(t.fillPatternScale.y,0)):(i.he=h.get(t.fillPatternScaleX,0),i.oe=h.get(t.fillPatternScaleY,0)),h.has(t.fillPattern)?(i.ae=h.get(t.fillPattern.x,0),i.ce=h.get(t.fillPattern.y,0)):(i.ae=h.get(t.fillPatternX,0),i.ce=h.get(t.fillPatternY,0)),i.fe=h.get(t.fillPriority,"color"),i.le=h.get(t.shadowColor,void 0),i.be=h.get(t.shadowEnabled,!0),i.ve=h.get(t.shadowForStrokeEnabled,!0),i.me=h.get(t.shadowOpacity,1),i.Oe=h.get(t.shadowBlur,0),h.has(t.shadowOffset)?(i.ge=h.get(t.shadowOffset.x,0),i.de=h.get(t.shadowOffset.y,0)):(i.ge=h.get(t.shadowOffsetX,0),i.de=h.get(t.shadowOffsetY,0)),i.je=h.get(t.stroke,void 0),i._e=h.get(t.strokeEnabled,!0),i.pe=h.get(t.strokeScaleEnabled,!0),i.we=h.get(t.strokeHitEnabled,!0),i.ye=h.get(t.strokeWidth,1),i.Me=h.get(t.strokeLinearGradientColorStops,[]),h.has(t.strokeLinearGradientStartPoint)?(i.xe=h.get(t.strokeLinearGradientStartPoint.x,0),i.Ce=h.get(t.strokeLinearGradientStartPoint.y,0)):(i.xe=h.get(t.strokeLinearGradientStartPointX,0),i.Ce=h.get(t.strokeLinearGradientStartPointY,0)),h.has(t.strokeLinearGradientEndPoint)?(i.ke=h.get(t.strokeLinearGradientEndPoint.x,0),i.Se=h.get(t.strokeLinearGradientEndPoint.y,0)):(i.ke=h.get(t.strokeLinearGradientEndPointX,0),i.Se=h.get(t.strokeLinearGradientEndPointY,0)),i.on("shadowColorChange.__event shadowBlurChange.__event shadowOffsetChange.__event shadowOpacityChange.__event shadowEnabledChange.__event",function(){i.caches.clearCache("hasShadow")}),i.on("shadowColorChange.__event shadowOpacityChange.__event shadowEnabledChange.__event",function(){i.caches.clearCache("shadowRGBA")}),i.on("fillPriorityChange.__event fillPatternImageChange.__event fillPatternRepeatChange.__event fillPatternScaleXChange.__event fillPatternScaleYChange.__event",function(){i.caches.clearCache("patternImage")}),i.on("fillPriorityChange.__event fillLinearGradientColorStopsChange.__event fillLinearGradientStartPointXChange.__event fillLinearGradientStartPointYChange.__event fillLinearGradientEndPointXChange.__event fillLinearGradientEndPointYChange.__event",function(){i.caches.clearCache("linearGradient")}),i.on("fillPriorityChange.__event fillRadialGradientColorStopsChange.__event fillRadialGradientStartPointXChange.__event fillRadialGradientStartPointYChange.__event fillRadialGradientEndPointXChange.__event fillRadialGradientEndPointYChange.__event fillRadialGradientStartRadiusChange.__event fillRadialGradientEndRadiusChange.__event",function(){i.caches.clearCache("radialGradient")}),i.fillFunc=function(t){t.fill()},i.strokeFunc=function(t){t.stroke()},i.hitFillFunc=function(t){t.fill()},i.hitStrokeFunc=function(t){t.stroke()},i}i.DisplayObject=a},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(13),h=(s=u.BaseLayer,r(o,s),o.prototype.validateAdd=function(t){if("Shape"!==t.getType())throw new Error("You may only add shapes to a fast layer.")},o.prototype.setCanvasSize=function(t,i){this.canvas.setSize(t,i),this.checkSmooth()},Object.defineProperty(o.prototype,"hitGraphEnabled",{get:function(){return!1},enumerable:!0,configurable:!0}),o.prototype.drawScene=function(t){var i=this.getLayer(),n=t||i&&i.canvas;return this.clearBeforeDraw&&n.contextWrapper.clear(),s.prototype.drawScene.call(this,n),this},o.prototype.draw=function(){return this.drawScene(),this},o);function o(t){var i=s.call(this,t)||this;return i.nodeType="FastLayer",i}i.FastLayer=h},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var o=n(2);i.default={IMAGE_CACHE:{},loadImage:function(t,i,n){var e=this,r="string"==typeof t?t:t.src;if(this.IMAGE_CACHE[r])i(this.IMAGE_CACHE[r],n);else{var s=o.default.createImageElement();s.onload=function(){e.IMAGE_CACHE[r]=s,i(s,n)},s.src=r}},loadImages:function(t,i,n){var e=this,r={},s=0,u=0;for(var h in t)u++;for(var h in t)this.IMAGE_CACHE[h]?(r[h]=this.IMAGE_CACHE[h],++s>=u&&i(r,n)):(r[h]=o.default.createImageElement(),r[h].onload=function(){e.IMAGE_CACHE[h]=r[h],++s>=u&&i(r,n)},r[h].src=t[h])}}},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(8),a=n(30),c=n(20),f=n(49),l=n(31),b=n(6),v=n(5),g=n(3),r=n(11),d=["fill","stroke","shadowColor"],m={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=(O.prototype.play=function(){return this.Ae.play(),this},O.prototype.reverse=function(){return this.Ae.reverse(),this},O.prototype.reset=function(){return this.Ae.reset(),this},O.prototype.seek=function(t){return this.Ae.seek(1e3*t),this},O.prototype.pause=function(){return this.Ae.pause(),this},O.prototype.finish=function(){return this.Ae.finish(),this},O.prototype.destroy=function(){var t,i=this.kn.uid,n=this.kt,e=O.tweens[i];for(t in this.pause(),e)delete O.tweens[i][t];return delete O.attrs[i][n],this},O.prototype.Re=function(t){var i,n,e,r,s,u,h,o,a=this.kn,c=O.attrs[a.uid][this.kt];for(i in c){if(e=(n=c[i]).start,r=n.diff,o=n.end,g.isArray(e))if(s=[],h=Math.max(e.length,o.length),0===i.indexOf("fill"))for(u=0;u<h;u++)u%2==0?s.push((e[u]||0)+r[u]*t):s.push("rgba("+Math.round(e[u].r+r[u].r*t)+","+Math.round(e[u].g+r[u].g*t)+","+Math.round(e[u].b+r[u].b*t)+","+(e[u].a+r[u].a*t)+")");else for(u=0;u<h;u++)s.push((e[u]||0)+r[u]*t);else s=-1!==d.indexOf(i)?"rgba("+Math.round(e.r+r.r*t)+","+Math.round(e.g+r.g*t)+","+Math.round(e.b+r.b*t)+","+(e.a+r.a*t)+")":e+r*t;a[i]=s}},O.prototype.Ie=function(){var n=this;this.Ae.onPlay=function(){n.Ge.start()},this.Ae.onReverse=function(){n.Ge.start()},this.Ae.onPause=function(){n.Ge.stop()},this.Ae.onFinish=function(){var t=n.kn,i=O.attrs[t.uid][n.kt];i.points&&i.points.trueEnd&&t.setAttr("points",i.points.trueEnd),n.onFinish&&n.onFinish.call(n)},this.Ae.onReset=function(){var t=n.kn,i=O.attrs[t.uid][n.kt];i.points&&i.points.trueStart&&t.points(i.points.trueStart),n.onReset&&n.onReset()}},O.prototype.Te=function(t,i,n){var e,r=this,s=[],u=[];if(t.length>i.length){var h=i;i=t,t=h}for(e=0;e<t.length;e+=2)s.push({x:t[e],y:t[e+1]});for(e=0;e<i.length;e+=2)u.push({x:i[e],y:i[e+1]});var o=[];return u.forEach(function(t){var i=r.Le(t,s,n);o.push(i.x),o.push(i.y)}),o},O.prototype.Le=function(h,o,a){var c=this,f=r.cloneObject(h),l=Number.MAX_VALUE;return o.forEach(function(t,i){if(a||i!==o.length-1){var n=o[(i+1)%o.length],e=c.Ye(t.x,t.y,n.x,n.y,h.x,h.y),r=e[0],s=e[1],u=e[2];u<l&&(f.x=r,f.y=s,l=u)}}),f},O.prototype.Ye=function(t,i,n,e,r,s){var u,h,o,a=(t-n)*(t-n)+(i-e)*(i-e);if(0==a)u=t,h=i,o=(r-n)*(r-n)+(s-e)*(s-e);else{var c=((r-t)*(n-t)+(s-i)*(e-i))/a;o=c<0?((u=t)-r)*(t-r)+((h=i)-s)*(i-s):1<c?((u=n)-r)*(n-r)+((h=e)-s)*(e-s):((u=t+c*(n-t))-r)*(u-r)+((h=i+c*(e-i))-s)*(h-s)}return[u,h,o]},O.prototype.Xe=function(t,i){var n,e,r,s,u,h,o,a,c=this.kn,f=c.uid;if((r=O.tweens[f][t])&&delete O.attrs[f][r][t],n=void 0!==c.getAttr(t)?c.getAttr(t):c[t],g.isArray(i))if(e=[],u=Math.max(i.length,n.length),"points"===t&&i.length!==n.length&&(i.length>n.length?(o=n,n=this.Te(n,i,c.closed())):(h=i,i=this.Te(i,n,c.closed()))),0===t.indexOf("fill"))for(s=0;s<u;s++)if(s%2==0)e.push(i[s]-n[s]);else{var l=v.colorToRGBA(n[s]);a=v.colorToRGBA(i[s]),n[s]=l,e.push({r:a.r-l.r,g:a.g-l.g,b:a.b-l.b,a:a.a-l.a})}else for(s=0;s<u;s++)e.push(i[s]-n[s]);else e=-1!==d.indexOf(t)?(n=v.colorToRGBA(n),{r:(a=v.colorToRGBA(i)).r-n.r,g:a.g-n.g,b:a.b-n.b,a:a.a-n.a}):i-n;O.attrs[f][this.kt][t]={start:n,diff:e,end:i,trueEnd:h,trueStart:o},O.tweens[f][t]=this.kt},O.idCounter=0,O.attrs={},O.tweens={},O);function O(t){var i,n,e=this,r=(t=t||{}).node,s=r.uid,u=t.easing||l.Easings.Linear,h=!!t.yoyo;i=void 0===t.duration?.3:0===t.duration?.001:t.duration,this.kn=r,this.kt=O.idCounter++;var o=r.getLayer()||(r instanceof a.Stage?r.getLayers():null);for(n in o||b.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.Ge=new c.Animation(function(){e.Ae.onEnterFrame()},o),this.Ae=new f.TweenEngine(n,function(t){e.Re(t)},u,0,1,1e3*i,h),this.Ie(),O.attrs[s]||(O.attrs[s]={}),O.attrs[s][this.kt]||(O.attrs[s][this.kt]={}),O.tweens[s]||(O.tweens[s]={}),t)void 0===m[n]&&this.Xe(n,t[n]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset}i.Tween=s,e.Node.prototype.to=function(t){var i=this,n=t.onFinish;t.node=this,t.onFinish=function(){i.destroy(),n&&n()},new s(t).play()}},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=(r.prototype.play=function(){this.De=2,this.Fe=this.Be()-this.Ne,this.onEnterFrame(),this.V("onPlay")},r.prototype.reverse=function(){this.De=3,this.Ne=this.ze-this.Ne,this.Fe=this.Be()-this.Ne,this.onEnterFrame(),this.V("onReverse")},r.prototype.seek=function(t){this.pause(),this.Ne=t,this.We(),this.V("onSeek")},r.prototype.reset=function(){this.pause(),this.Ne=0,this.We(),this.V("onReset")},r.prototype.finish=function(){this.pause(),this.Ne=this.ze,this.We(),this.V("onFinish")},r.prototype.pause=function(){this.De=1,this.V("onPause")},r.prototype.onEnterFrame=function(){var t=this.Be()-this.Fe;2===this.De?this.He(t):3===this.De&&this.He(this.ze-t)},r.prototype.He=function(t){t>this.ze?this.qe?(this.Ne=this.ze,this.reverse()):this.finish():t<0?this.qe?(this.Ne=0,this.play()):this.reset():(this.Ne=t,this.We())},r.prototype.We=function(){this.Ve(this.Qe(this.Ne))},r.prototype.Be=function(){return(new Date).getTime()},r.prototype.Qe=function(t){return void 0===t&&(t=this.Ne),this.$e(t,this.Je,this.Ue,this.ze)},r.prototype.Ve=function(t){this.Ze=this.Ke,this.tr(t),this.Ke=t},r.prototype.V=function(t){var i=this[t];i&&i()},r);function r(t,i,n,e,r,s,u){this.ir=t,this.tr=i,this.$e=n,this.Je=e,this.nr=r,this.ze=s,this.qe=u,this.Ke=e,this.Ze=0,this.Ue=0,this.Ne=0,this.er=0,this.Fe=0,this.Ue=r-this.Je,this.pause()}i.TweenEngine=e},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(28);i.array=e;var r=n(14);i.browser=r.default;var s=n(5);i.color=s;var u=n(3);i.is=u;var h=n(11);i.object=h;var o=n(16);i.string=o;var a=n(7);i.Dictionary=a.Dictionary;var c=n(21);i.PathTool=c.PathTool},function(t,i,n){"use strict";Object.defineProperty(i,"e",{value:!0});var e=n(52);i.Arc=e.Arc;var r=n(53);i.Arrow=r.Arrow;var s=n(54);i.Button=s.Button;var u=n(55);i.Circle=u.Circle;var h=n(56);i.Ellipse=h.Ellipse;var o=n(57);i.Image=o.Image;var a=n(58);i.Label=a.Label;var c=n(22);i.Line=c.Line;var f=n(59);i.Path=f.Path;var l=n(60);i.Polygon=l.Polygon;var b=n(61);i.Rect=b.Rect;var v=n(62);i.RegularPolygon=v.RegularPolygon;var g=n(63);i.Ring=g.Ring;var d=n(64);i.Sector=d.Sector;var m=n(65);i.Sprite=m.Sprite;var O=n(66);i.Star=O.Star;var j=n(67);i.Tag=j.Tag;var _=n(32);i.Text=_.Text;var p=n(68);i.TextPath=p.TextPath},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(0),o=(s=u.Shape,r(a,s),Object.defineProperty(a.prototype,"innerRadius",{get:function(){return this.rr},set:function(t){this.rr=t,this.setAttr("innerRadius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"outerRadius",{get:function(){return this.sr},set:function(t){this.sr=t,this.setAttr("outerRadius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"angle",{get:function(){return this.ur},set:function(t){this.ur=t,this.setAttr("angle",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clockwise",{get:function(){return this.hr},set:function(t){this.hr=t,this.setAttr("clockwise",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return 2*this.outerRadius},set:function(t){this.outerRadius=t/2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return 2*this.outerRadius},set:function(t){this.outerRadius=t/2},enumerable:!0,configurable:!0}),a.prototype.sceneRender=function(t){var i=this.angle*h.PI_OVER_DEG180,n=this.hr;t.beginPath().arc(0,0,this.sr,0,i,n).arc(0,0,this.rr,i,0,!n).closePath().fillStrokeShape(this)},a);function a(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!0,i.className="Arc",i.rr=h.get(t.innerRadius,0),i.sr=h.get(t.outerRadius,0),i.ur=h.get(t.angle,0),i.hr=h.get(t.clockwise,!1),i}i.Arc=o},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var f,s=n(22),l=n(0),u=(f=s.Line,r(h,f),Object.defineProperty(h.prototype,"pointerLength",{get:function(){return this.or},set:function(t){this.or=t,this.setAttr("pointerLength",t)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"pointerWidth",{get:function(){return this.ar},set:function(t){this.ar=t,this.setAttr("pointerWidth",t)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"pointerAtBeginning",{get:function(){return this.cr},set:function(t){this.cr=t,this.setAttr("pointerAtBeginning",t)},enumerable:!0,configurable:!0}),h.prototype.sceneRender=function(t){f.prototype.sceneRender.call(this,t);var i=this.points,n=i,e=0!==this.tension&&4<i.length;e&&(n=this.getTensionPoints());var r,s,u=i.length;s=e?(r=i[u-2]-(n[n.length-2]+n[n.length-4])/2,i[u-1]-(n[n.length-1]+n[n.length-3])/2):(r=i[u-2]-i[u-4],i[u-1]-i[u-3]);var h=(Math.atan2(s,r)+l.PI_TWO)%l.PI_TWO,o=this.pointerLength,a=this.pointerWidth;t.save().beginPath().translate(i[u-2],i[u-1]).rotate(h).moveTo(0,0).lineTo(-o,a/2).lineTo(-o,-a/2).closePath().restore(),this.pointerAtBeginning&&(t.save().translate(i[0],i[1]),s=e?(r=(n[0]+n[2])/2-i[0],(n[1]+n[3])/2-i[1]):(r=i[2]-i[0],i[3]-i[1]),t.rotate((Math.atan2(-s,-r)+l.PI_TWO)%l.PI_TWO).moveTo(0,0).lineTo(-o,a/2).lineTo(-o,-a/2).closePath().restore());var c=this.dashEnabled;c&&(this.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),c&&(this.dashEnabled=!0)},h);function h(t){var i=f.call(this,t)||this;return t=t||{},i.centroid=!1,i.className="Arrow",i.or=l.get(t.pointerLength,10),i.ar=l.get(t.pointerWidth,10),i.cr=l.get(t.pointerAtBeginning,!1),i}i.Arrow=u},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(19),h=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],o=h.length,a=(s=u.Group,r(c,s),c.prototype.getText=function(){return this.find("Text")[0]},c.prototype.getRect=function(){return this.find("Rect")[0]},c.prototype.Ie=function(t){for(var i=this,n=function(){i.fr()},e=0;e<o;e++)t.on(h[e]+"Change.__event",n)},c.prototype.fr=function(){var t=this.getText(),i=this.getRect();t&&i&&(i.width=t.width,i.height=t.height)},c);function c(t){var i=s.call(this,t)||this;return t=t||{},i.className="Button",i.on("add.__event",function(t){this.Ie(t.child),this.fr()}),i}i.Button=a},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(0),o=(s=u.Shape,r(a,s),Object.defineProperty(a.prototype,"radius",{get:function(){return this.lr},set:function(t){this.lr=t,this.setAttr("radius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return 2*this.lr},set:function(t){this.radius=t/2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return 2*this.lr},set:function(t){this.radius=t/2},enumerable:!0,configurable:!0}),a.prototype.sceneRender=function(t){t.beginPath().arc(0,0,this.lr,0,h.PI_TWO,!1).closePath().fillStrokeShape(this)},a);function a(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!0,i.className="Circle",i.lr=h.get(t.radius,0),i}i.Circle=o},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(0),o=(s=u.Shape,r(a,s),Object.defineProperty(a.prototype,"radius",{get:function(){return{x:this.radiusX,y:this.radiusY}},set:function(t){this.radiusX=t.x,this.radiusY=t.y},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"radiusX",{get:function(){return this.br},set:function(t){this.br=t,this.setAttr("radiusX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"radiusY",{get:function(){return this.vr},set:function(t){this.vr=t,this.setAttr("radiusY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return 2*this.radiusX},set:function(t){this.radiusX=t/2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return 2*this.radiusY},set:function(t){this.radiusY=t/2},enumerable:!0,configurable:!0}),a.prototype.sceneRender=function(t){var i=this.radiusX,n=this.radiusY;t.beginPath().save(),i!==n&&t.scale(1,n/i),t.arc(0,0,i,0,h.PI_TWO,!1).restore().closePath().fillStrokeShape(this)},a);function a(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!1,i.className="Ellipse",i.br=h.get(t.radiusX,0),i.vr=h.get(t.radiusY,0),i}i.Ellipse=o},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(2),o=n(0),a=(s=u.Shape,r(c,s),Object.defineProperty(c.prototype,"image",{get:function(){return this.gr},set:function(t){this.gr=t,this.setAttr("image",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"crop",{get:function(){return{x:this.cropX,y:this.cropY,width:this.cropWidth,height:this.cropHeight}},set:function(t){this.cropX=o.get(t.x,0),this.cropY=o.get(t.y,0),this.cropWidth=o.get(t.width,0),this.cropHeight=o.get(t.height,0)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cropX",{get:function(){return this.dr},set:function(t){this.dr=t,this.setAttr("cropX",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cropY",{get:function(){return this.mr},set:function(t){this.mr=t,this.setAttr("cropY",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cropWidth",{get:function(){return this.Or},set:function(t){this.Or=t,this.setAttr("cropWidth",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cropHeight",{get:function(){return this.jr},set:function(t){this.jr=t,this.setAttr("cropHeight",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"width",{get:function(){var t=this.gr;return this.getAttrs().width||(t?t.width:0)},set:function(t){s.prototype.setWidth.call(this,t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"height",{get:function(){var t=this.gr;return this.getAttrs().height||(t?t.height:0)},set:function(t){s.prototype.setHeight.call(this,t)},enumerable:!0,configurable:!0}),c.prototype.sceneRender=function(t){var i,n,e,r=this.width,s=this.height,u=this.gr;u&&(i=this.Or,n=this.jr,e=i&&n?[u,this.dr,this.mr,i,n,0,0,r,s]:[u,0,0,r,s]),(this.hasFill()||this.hasStroke())&&t.beginPath().rect(0,0,r,s).closePath().fillStrokeShape(this),u&&t.drawImage.apply(t,e)},c.prototype.hitRender=function(t){var i=this.width,n=this.height;t.beginPath().rect(0,0,i,n).closePath().fillStrokeShape(this)},c.prototype.useBufferCanvas=function(){return!(!this.hasShadow()&&1===this.getAbsoluteOpacity()||!this.hasStroke()||!this.getStage())},c.fromURL=function(t,i){var n=h.default.createImageElement();n.onload=function(){var t=new c({image:n});i(t)},n.crossOrigin="Anonymous",n.src=t},c);function c(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!1,i.className="Image",i.gr=t.image,t.crop?(i.dr=o.get(t.crop.x,0),i.mr=o.get(t.crop.y,0),i.Or=o.get(t.crop.width,0),i.jr=o.get(t.crop.height,0)):(i.dr=o.get(t.cropX,0),i.mr=o.get(t.cropY,0),i.Or=o.get(t.cropWidth,0),i.jr=o.get(t.cropHeight,0)),i}i.Image=a},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(19),h=n(32),o=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],a=o.length,c=(s=u.Group,r(f,s),f.prototype.getText=function(){return this.find("Text")[0]},f.prototype.getTag=function(){return this.find("Tag")[0]},f.prototype.Ie=function(t){for(var i=this,n=function(){i.fr()},e=0;e<a;e++)t.on(o[e]+"Change.__event",n)},f.prototype.fr=function(){var t=this.getText(),i=this.getTag();if(t&&i){var n=t.width,e=t.height,r=i.pointerDirection,s=i.pointerWidth,u=i.pointerHeight,h=0,o=0;switch(r){case"up":h=n/2,o=-1*u;break;case"right":h=n+s,o=e/2;break;case"down":h=n/2,o=e+u;break;case"left":h=-1*s,o=e/2}i.x=-1*h,i.y=-1*o,i.width=n,i.height=e,t.x=-1*h,t.y=-1*o}},f);function f(t){var i=s.call(this,t)||this;return t=t||{},i.className="Label",i.on("add.__event",function(t){t.child&&t.child instanceof h.Text&&(this.Ie(t.child),this.fr())}),i}i.Label=c},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),b=n(21),h=n(0),o=(s=u.Shape,r(a,s),Object.defineProperty(a.prototype,"data",{get:function(){return this._r},set:function(t){this._r=t,this.setAttr("data",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return this.getSelfRect().width},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this.getSelfRect().height},enumerable:!0,configurable:!0}),a.prototype.getSelfRect=function(){var i=[];this.pr.forEach(function(t){i=i.concat(t.points)});for(var t,n,e=i[0],r=i[0],s=i[1],u=i[1],h=0;h<i.length/2;h++)t=i[2*h],n=i[2*h+1],isNaN(t)||(e=Math.min(e,t),r=Math.max(r,t)),isNaN(n)||(s=Math.min(s,n),u=Math.max(u,n));return{x:Math.round(e),y:Math.round(s),width:Math.round(r-e),height:Math.round(u-s)}},a.prototype.sceneRender=function(t){var i=this.pr;t.beginPath();for(var n=0;n<i.length;n++){var e=i[n].command,r=i[n].points;switch(e){case"L":t.lineTo(r[0],r[1]);break;case"M":t.moveTo(r[0],r[1]);break;case"C":t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var s=r[0],u=r[1],h=r[2],o=r[3],a=r[4],c=r[5],f=r[6],l=r[7],b=o<h?h:o,v=o<h?1:h/o,g=o<h?o/h:1;t.translate(s,u).rotate(f).scale(v,g).arc(0,0,b,a,a+c,1-l).scale(1/v,1/g).rotate(-f).translate(-s,-u);break;case"z":t.closePath()}}t.fillStrokeShape(this)},a.prototype.getLength=function(){return this.wr},a.prototype.getPointAtLength=function(t){var i,n=0,e=this.pr.length;if(!e)return null;for(;n<e&&t>this.pr[n].pathLength;)t-=this.pr[n].pathLength,++n;if(n===e)return{x:(i=this.pr[n-1].points.slice(-2))[0],y:i[1]};if(t<.01)return{x:(i=this.pr[n].points.slice(0,2))[0],y:i[1]};var r=this.pr[n],s=r.points;switch(r.command){case"L":return b.PathTool.getPointOnLine(t,r.start.x,r.start.y,s[0],s[1]);case"C":return b.PathTool.getPointOnCubicBezier(t/r.pathLength,r.start.x,r.start.y,s[0],s[1],s[2],s[3],s[4],s[5]);case"Q":return b.PathTool.getPointOnQuadraticBezier(t/r.pathLength,r.start.x,r.start.y,s[0],s[1],s[2],s[3]);case"A":var u=s[0],h=s[1],o=s[2],a=s[3],c=s[4],f=s[5],l=s[6];return c+=f*t/r.pathLength,b.PathTool.getPointOnEllipticalArc(u,h,o,a,c,l)}return null},a);function a(t){var i=s.call(this,t)||this;i.pr=[],i.wr=0,t=t||{},i.centroid=!1,i.className="Path",i._r=h.get(t.data,null),i.pr=b.PathTool.parsePathData(i._r);for(var n=i.wr=0;n<i.pr.length;++n)i.wr+=i.pr[n].pathLength;return i.on("dataChange.__event",function(){this.pr=b.PathTool.parsePathData(this._r);for(var t=this.wr=0;t<this.pr.length;++t)this.wr+=this.pr[t].pathLength}),i}i.Path=o},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(22),h=(s=u.Line,r(o,s),o.prototype.sceneRender=function(t){t.beginPath().moveTo(this.points[0],this.points[1]);for(var i=2;i<this.points.length;i+=2)t.lineTo(this.points[i],this.points[i+1]);t.closePath().fillStrokeShape(this)},o);function o(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!1,i.className="Polygon",i.closed=!0,i.bezier=!1,i.tension=0,i}i.Polygon=h},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),o=n(0),h=(s=u.Shape,r(a,s),Object.defineProperty(a.prototype,"cornerRadius",{get:function(){return this.yr},set:function(t){this.yr=t,this.setAttr("cornerRadius",t)},enumerable:!0,configurable:!0}),a.prototype.sceneRender=function(t){var i=this.yr,n=this.width,e=this.height;if(t.beginPath(),i){var r=0,s=0,u=0,h=0;"number"==typeof i?r=s=u=h=Math.min(i,n/2,e/2):(r=Math.min(i[0],n/2,e/2),s=Math.min(i[1],n/2,e/2),h=Math.min(i[2],n/2,e/2),u=Math.min(i[3],n/2,e/2)),t.moveTo(r,0).lineTo(n-s,0).arc(n-s,s,s,3*o.PI/2,0,!1).lineTo(n,e-h).arc(n-h,e-h,h,0,o.PI_HALF,!1).lineTo(u,e).arc(u,e-u,u,o.PI_HALF,o.PI,!1).lineTo(0,r).arc(r,r,r,o.PI,3*o.PI/2,!1)}else t.rect(0,0,n,e);t.closePath().fillStrokeShape(this)},a);function a(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!1,i.className="Rect",i.yr=o.get(t.cornerRadius,0),i.width=o.get(t.width,0),i.height=o.get(t.height,0),i}i.Rect=h},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(0),o=(s=u.Shape,r(a,s),Object.defineProperty(a.prototype,"radius",{get:function(){return this.lr},set:function(t){this.lr=t,this.setAttr("radius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"sides",{get:function(){return this.Mr},set:function(t){this.lr=t,this.setAttr("sides",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return 2*this.lr},set:function(t){this.radius=t/2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return 2*this.lr},set:function(t){this.radius=t/2},enumerable:!0,configurable:!0}),a.prototype.sceneRender=function(t){var i,n,e,r=this.sides,s=this.radius;for(t.beginPath().moveTo(0,0-s),i=1;i<r;i++)n=s*Math.sin(i*h.PI_TWO/r),e=-1*s*Math.cos(i*h.PI_TWO/r),t.lineTo(n,e);t.closePath().fillStrokeShape(this)},a);function a(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!0,i.className="RegularPolygon",i.lr=h.get(t.radius,0),i.Mr=h.get(t.sides,0),i}i.RegularPolygon=o},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(0),o=(s=u.Shape,r(a,s),Object.defineProperty(a.prototype,"innerRadius",{get:function(){return this.rr},set:function(t){this.rr=t,this.setAttr("innerRadius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"outerRadius",{get:function(){return this.sr},set:function(t){this.sr=t,this.setAttr("outerRadius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return 2*this.outerRadius},set:function(t){this.outerRadius=t/2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return 2*this.outerRadius},set:function(t){this.outerRadius=t/2},enumerable:!0,configurable:!0}),a.prototype.sceneRender=function(t){t.beginPath().arc(0,0,this.innerRadius,0,h.PI_TWO,!1).moveTo(this.outerRadius,0).arc(0,0,this.outerRadius,h.PI_TWO,0,!0).closePath().fillStrokeShape(this)},a);function a(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!0,i.className="Ring",i.rr=h.get(t.innerRadius,0),i.sr=h.get(t.outerRadius,0),i}i.Ring=o},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(0),o=(s=u.Shape,r(a,s),Object.defineProperty(a.prototype,"radius",{get:function(){return this.lr},set:function(t){this.lr=t,this.setAttr("radius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"angle",{get:function(){return this.ur},set:function(t){this.ur=t,this.setAttr("angle",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"clockwise",{get:function(){return this.hr},set:function(t){this.hr=t,this.setAttr("clockwise",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return 2*this.radius},set:function(t){this.radius=t/2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return 2*this.radius},set:function(t){this.radius=t/2},enumerable:!0,configurable:!0}),a.prototype.sceneRender=function(t){t.beginPath().arc(0,0,this.radius,0,this.angle*h.PI_OVER_DEG180,this.clockwise).lineTo(0,0).closePath().fillStrokeShape(this)},a);function a(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!0,i.className="Sector",i.lr=h.get(t.radius,0),i.ur=h.get(t.angle,0),i.hr=h.get(t.clockwise,!1),i}i.Sector=o},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(20),o=n(0),a=(s=u.Shape,r(c,s),Object.defineProperty(c.prototype,"frameIndex",{get:function(){return this.xr},set:function(t){this.xr=t,this.setAttr("frameIndex",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"animation",{get:function(){return this.Cr},set:function(t){this.Cr=t,this.setAttr("animation",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"image",{get:function(){return this.gr},set:function(t){this.gr=t,this.setAttr("image",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"animations",{get:function(){return this.kr},set:function(t){this.kr=t,this.setAttr("animations",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"frameOffsets",{get:function(){return this.Sr},set:function(t){this.Sr=t,this.setAttr("frameOffsets",t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"frameRate",{get:function(){return this.Er},set:function(t){this.Er=t,this.setAttr("frameRate",t)},enumerable:!0,configurable:!0}),c.prototype.sceneRender=function(t){var i=this.Cr,n=this.xr,e=4*n,r=this.kr[i],s=this.Sr,u=r[0+e],h=r[1+e],o=r[2+e],a=r[3+e],c=this.image;if((this.hasFill()||this.hasStroke())&&t.beginPath().rect(0,0,o,a).closePath().fillStrokeShape(this),c)if(s&&0<s.length){var f=s[i],l=2*n;t.drawImage(c,u,h,o,a,f[0+l],f[1+l],o,a)}else t.drawImage(c,u,h,o,a,0,0,o,a)},c.prototype.hitRender=function(t){var i=this.Cr,n=this.xr,e=4*n,r=this.kr[i],s=this.Sr,u=r[2+e],h=r[3+e];if(t.beginPath(),s&&0<s.length){var o=s[i],a=2*n;t.rect(o[0+a],o[1+a],u,h)}else t.rect(0,0,u,h);t.closePath().fillShape(this)},c.prototype.useBufferCanvas=function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},c.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.Ge.setLayers(t),this.Pr(),this.Ge.start()}},c.prototype.stop=function(){this.Ge.stop(),clearInterval(this.Ar)},c.prototype.isRunning=function(){return this.Ge.isRunning()},c.prototype.Pr=function(){var t=this;this.Ar=setInterval(function(){t.Rr()},1e3/this.Er)},c.prototype.Rr=function(){var t=this.frameIndex,i=this.animation,n=this.animations[i].length/4;this.frameIndex=t<n-1?t+1:0},c);function c(t){var i=s.call(this,t)||this;return i.Ir=!0,t=t||{},i.centroid=!1,i.className="Sprite",i.xr=o.get(t.frameIndex,0),i.Cr=o.get(t.animation,""),i.gr=o.get(t.image,null),i.kr=o.get(t.animations,[]),i.Sr=o.get(t.frameOffsets,[]),i.Er=o.get(t.frameRate,17),i.Ge=new h.Animation(function(){var t=i.Ir;return i.Ir=!1,t}),i.on("animationChange.__event",function(){this.xr=0}),i.on("frameIndexChange.__event",function(){this.Ir=!0}),i.on("frameRateChange.__event",function(){this.Ge.isRunning()&&(clearInterval(this.Ar),this.Pr())}),i}i.Sprite=a},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),o=n(0),h=(s=u.Shape,r(a,s),Object.defineProperty(a.prototype,"numPoints",{get:function(){return this.Gr},set:function(t){this.Gr=t,this.setAttr("numPoints",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"innerRadius",{get:function(){return this.rr},set:function(t){this.rr=t,this.setAttr("innerRadius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"outerRadius",{get:function(){return this.sr},set:function(t){this.sr=t,this.setAttr("outerRadius",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return 2*this.outerRadius},set:function(t){this.outerRadius=t/2},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return 2*this.outerRadius},set:function(t){this.outerRadius=t/2},enumerable:!0,configurable:!0}),a.prototype.sceneRender=function(t){var i=this.innerRadius,n=this.outerRadius,e=this.numPoints;t.beginPath().moveTo(0,0-n);for(var r=1;r<2*e;r++){var s=r%2==0?n:i,u=s*Math.sin(r*o.PI/e),h=-1*s*Math.cos(r*o.PI/e);t.lineTo(u,h)}t.closePath().fillStrokeShape(this)},a);function a(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!1,i.className="Star",i.Gr=o.get(t.numPoints,5),i.rr=o.get(t.innerRadius,0),i.sr=o.get(t.outerRadius,0),i}i.Star=h},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),h=n(0),o=(s=u.Shape,r(a,s),Object.defineProperty(a.prototype,"pointerDirection",{get:function(){return this.Tr},set:function(t){this.Tr=t,this.setAttr("pointerDirection",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pointerWidth",{get:function(){return this.ar},set:function(t){this.ar=t,this.setAttr("pointerWidth",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pointerHeight",{get:function(){return this.Lr},set:function(t){this.Lr=t,this.setAttr("pointerHeight",t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cornerRadius",{get:function(){return this.yr},set:function(t){this.yr=t,this.setAttr("cornerRadius",t)},enumerable:!0,configurable:!0}),a.prototype.sceneRender=function(t){var i=this.width,n=this.height,e=this.pointerDirection,r=this.pointerWidth,s=this.pointerHeight,u=Math.min(this.cornerRadius,i/2,n/2);t.beginPath(),u?t.moveTo(u,0):t.moveTo(0,0),"up"===e&&t.lineTo((i-r)/2,0).lineTo(i/2,-1*s).lineTo((i+r)/2,0),u?t.lineTo(i-u,0).arc(i-u,u,u,3*h.PI/2,0,!1):t.lineTo(i,0),"right"===e&&t.lineTo(i,(n-s)/2).lineTo(i+r,n/2).lineTo(i,(n+s)/2),u?t.lineTo(i,n-u).arc(i-u,n-u,u,0,h.PI_HALF,!1):t.lineTo(i,n),"down"===e&&t.lineTo((i+r)/2,n).lineTo(i/2,n+s).lineTo((i-r)/2,n),u?t.lineTo(u,n).arc(u,n-u,u,h.PI_HALF,h.PI,!1):t.lineTo(0,n),"left"===e&&t.lineTo(0,(n+s)/2).lineTo(-1*r,n/2).lineTo(0,(n-s)/2),u&&t.lineTo(0,u).arc(u,u,u,h.PI,3*h.PI/2,!1),t.closePath().fillStrokeShape(this)},a.prototype.getSelfRect=function(){var t=0,i=0,n=this.pointerWidth,e=this.pointerHeight,r=this.pointerDirection,s=this.width,u=this.height;return"up"===r?(i-=e,u+=e):"down"===r?u+=e:"left"===r?(t-=1.5*n,s+=n):"right"===r&&(s+=1.5*n),{x:t,y:i,width:s,height:u}},a);function a(t){var i=s.call(this,t)||this;return t=t||{},i.centroid=!1,i.className="Tag",i.Tr=h.get(t.pointerDirection,"none"),i.ar=h.get(t.pointerWidth,0),i.Lr=h.get(t.pointerHeight,0),i.yr=h.get(t.cornerRadius,0),i}i.Tag=o},function(t,i,n){"use strict";var e,r=this&&this.u||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(i,"e",{value:!0});var s,u=n(1),x=n(21),h=n(3),o=n(2),a=n(14),C=n(0),c=(s=u.Shape,r(f,s),Object.defineProperty(f.prototype,"fontFamily",{get:function(){return this.Gi},set:function(t){this.Gi=t,this.setAttr("fontFamily",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"fontSize",{get:function(){return this.Pi},set:function(t){this.Pi=t,this.setAttr("fontSize",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"fontStyle",{get:function(){return this.Ti},set:function(t){this.Ti=t,this.setAttr("fontStyle",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"fontVariant",{get:function(){return this.Li},set:function(t){this.Li=t,this.setAttr("fontVariant",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"align",{get:function(){return this.Yi},set:function(t){this.Yi=t,this.setAttr("align",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"letterSpacing",{get:function(){return this.Xi},set:function(t){this.Xi=t,this.setAttr("letterSpacing",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"text",{get:function(){return this.Bi},set:function(t){var i=h.isString(t)?t:(t||"").toString();this.Bi=i,this.setAttr("text",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"data",{get:function(){return this._r},set:function(t){this._r=t,this.setAttr("data",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"textBaseline",{get:function(){return this.Yr},set:function(t){this.Yr=t,this.setAttr("textBaseline",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"textDecoration",{get:function(){return this.Fi},set:function(t){this.Fi=t,this.setAttr("textDecoration",t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"kerningFunc",{get:function(){return this.Xr},set:function(t){this.Xr=t,this.setAttr("kerningFunc",t)},enumerable:!0,configurable:!0}),f.prototype.sceneRender=function(t){t.font=this.Wi(),t.textBaseline=this.Yr,t.textAlign="left",t.save();var i=this.Fi,n=this.fill,e=this.Pi,r=this.Dr;"underline"===i&&t.beginPath();for(var s=0;s<r.length;s++){t.save();var u=r[s].p0;t.translate(u.x,u.y).rotate(r[s].rotation),this.Vi=r[s].text,t.fillStrokeShape(this),"underline"===i&&(0===s&&t.moveTo(0,e/2+1),t.lineTo(e,e/2+1)),t.restore()}"underline"===i&&(t.strokeStyle=n,t.lineWidth=e/20,t.stroke()),t.restore()},f.prototype.hitRender=function(t){t.beginPath();var i=this.Dr;if(1<=i.length){var n=i[0].p0;t.moveTo(n.x,n.y)}for(var e=0;e<i.length;e++){var r=i[e].p1;t.lineTo(r.x,r.y)}t.lineWidth=this.Pi,t.strokeStyle=this.colorKey,t.stroke()},f.prototype.getTextWidth=function(){return this.Ii},f.prototype.getTextHeight=function(){return this.Fr},f.prototype.getSelfRect=function(){var i=[];this.Dr.forEach(function(t){i.push(t.p0.x),i.push(t.p0.y),i.push(t.p1.x),i.push(t.p1.y)});for(var t,n,e=i[0],r=i[0],s=i[0],u=i[0],h=0;h<i.length/2;h++)t=i[2*h],n=i[2*h+1],e=Math.min(e,t),r=Math.max(r,t),s=Math.min(s,n),u=Math.max(u,n);var o=this.fontSize;return{x:Math.round(e)-o/2,y:Math.round(s)-o/2,width:Math.round(r-e)+o,height:Math.round(u-s)+o}},f.prototype.Br=function(t){var i=o.default.getDummyContext();i.save(),i.font=this.Wi();var n=i.measureText(t);return i.restore(),{width:n.width,height:this.Pi}},f.prototype.Ui=function(){var a=this,t=this.Br(this.Bi),c=this.Xi,f=this.Yi,i=this.Xr;this.Ii=t.width,this.Fr=t.height;var l=Math.max(this.Ii+((this.Bi||"").length-1)*c,0);this.Dr=[];for(var b=0,n=0;n<a.pr.length;n++)0<a.pr[n].pathLength&&(b+=a.pr[n].pathLength);var e=0;"center"===f&&(e=Math.max(0,b/2-l/2)),"right"===f&&(e=Math.max(0,b-l));for(var v,g,d,r=this.Bi.split(""),m=this.Bi.split(" ").length-1,s=-1,O=0,j=function(){O=0;for(var t=a.pr,i=s+1;i<t.length;i++){if(0<t[i].pathLength)return t[s=i];"M"===t[i].command&&(v={x:t[i].points[0],y:t[i].points[1]})}return{}},u=function(t){var i=a.Br(t).width+c;" "===t&&"justify"===f&&(i+=(b-l)/m);var n=0,e=0;for(g=void 0;.01<Math.abs(i-n)/i&&e<25;){e++;for(var r=n;void 0===d;)(d=j())&&r+d.pathLength<i&&(r+=d.pathLength,d=void 0);if(d==={}||void 0===v)return;var s=!1;switch(d.command){case"L":x.PathTool.getLineLength(v.x,v.y,d.points[0],d.points[1])>i?g=x.PathTool.getPointOnLine(i,v.x,v.y,d.points[0],d.points[1],v.x,v.y):d=void 0;break;case"A":var u=d.points[4],h=d.points[5],o=d.points[4]+h;0===O?O=u+1e-8:n<i?O+=C.PI_OVER_DEG180*h/Math.abs(h):O-=C.PI_OVER_DEG360*h/Math.abs(h),(h<0&&O<o||0<=h&&o<O)&&(O=o,s=!0),g=x.PathTool.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],O,d.points[6]);break;case"C":0===O?O=i>d.pathLength?1e-8:i/d.pathLength:n<i?O+=(i-n)/d.pathLength:O-=(n-i)/d.pathLength,1<O&&(O=1,s=!0),g=x.PathTool.getPointOnCubicBezier(O,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);break;case"Q":0===O?O=i/d.pathLength:n<i?O+=(i-n)/d.pathLength:O-=(n-i)/d.pathLength,1<O&&(O=1,s=!0),g=x.PathTool.getPointOnQuadraticBezier(O,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3])}void 0!==g&&(n=x.PathTool.getLineLength(v.x,v.y,g.x,g.y)),s&&(s=!1,d=void 0)}},h=a.Br("C").width+c,o=0;o<e/h&&(u("C"),void 0!==v&&void 0!==g);o++)v=g;for(var _=0;_<r.length&&(u(r[_]),void 0!==v&&void 0!==g);_++){var p=x.PathTool.getLineLength(v.x,v.y,g.x,g.y),w=0;if(i)try{w=i(r[_-1],r[_])*this.Pi}catch(t){w=0}v.x+=w,g.x+=w,this.Ii+=w;var y=x.PathTool.getPointOnLine(w+p/2,v.x,v.y,g.x,g.y),M=Math.atan2(g.y-v.y,g.x-v.x);this.Dr.push({transposeX:y.x,transposeY:y.y,text:r[_],rotation:M,p0:v,p1:g}),v=g}},f.prototype.Wi=function(){return a.default.isIE?this.Ti+" "+this.Pi+"px "+this.Gi:this.Ti+" "+this.Li+" "+this.Pi+"px "+this.Gi},f);function f(t){var i=s.call(this,t)||this;return i.pr=[],t=t||{},i.centroid=!1,i.className="TextPath",i.Gi=C.get(t.fontFamily,"Arial"),i.Pi=C.get(t.fontSize,12),i.Ti=C.get(t.fontStyle,"normal"),i.Li=C.get(t.fontVariant,"normal"),i.Yi=C.get(t.align,"left"),i.Xi=C.get(t.letterSpacing,0),i.Bi=C.get(t.text,""),i._r=C.get(t.data,""),i.Yr=C.get(t.textBaseline,"middle"),i.Fi=C.get(t.textDecoration,""),i.Xr=C.get(t.kerningFunc,void 0),i.fillFunc=function(t){t.fillText(i.Vi,0,0)},i.strokeFunc=function(t){t.strokeText(i.Vi,0,0)},i.hitFillFunc=function(t){t.fillText(i.Vi,0,0)},i.hitStrokeFunc=function(t){t.strokeText(i.Vi,0,0)},i.pr=x.PathTool.parsePathData(i._r),i.on("dataChange.__event",function(){this.pr=x.PathTool.parsePathData(this._r),this.Ui()}),i.on("textChange.__event alignChange.__event letterSpacingChange.__event kerningFuncChange.__event",i.Ui),i.Ui(),i}i.TextPath=c}],r.c=e,r.d=function(t,i,n){r.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"e",{value:!0})},r.t=function(i,t){if(1&t&&(i=r(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.e)return i;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var e in i)r.d(n,e,function(t){return i[t]}.bind(null,e));return n},r.n=function(t){var i=t&&t.e?function(){return t.default}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r.p="",r(r.s=33);function r(t){if(e[t])return e[t].exports;var i=e[t]={i:t,l:!1,exports:{}};return n[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var n,e});